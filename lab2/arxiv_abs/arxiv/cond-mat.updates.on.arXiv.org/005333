The experimentally observed correlated insulating states and quantum anomalous Hall (QAH) effect
in twisted bilayer graphene (TBG) have drawn significant attention. However, up to date, the specific
mechanisms of these intriguing phenomena are still open questions. Using a fully unrestricted
Hartree-Fock variational method, we have explained the correlated insulating states and QAH effects
at various integer fillings of the flat bands in TBG. Our results indicate that states breaking flavor
(valley and spin) symmetries are energetically favored at all integer fillings. In particular,
the correlated insulating states at $\pm 1/2$ filling and at the charge neutrality point are all
valley polarized sates which break $C_{2z}$ and time-reversal ($\mathcal{T}$) symmetries, but
preserves $C_{2z}\mathcal{T}$ symmetry. Such valley polarized states exhibit "moir\'e orbital
antiferromagnetic ordering" on an emergent honeycomb lattice with compensating circulating
current pattern in the moir\'e supercell. Within the same theoretical framework, our calculations
indicate that the $C\!=\!\mp 1$ QAH states at $\pm 3/4$ fillings of the magic-angle TBG are spin and
orbital ferromagnetic states, which emerge when a staggered sublattice potential is present.
We find that the nonlocalness of the exchange interactions tend to enhance the bandwidth of the low-energy
bands due to the exchange-hole effect, which reduces the gaps of the correlated insulator phases.
The nonlocal exchange interactions also dramatically enhance the spin polarization of the system,
which significantly stabilize the orbital and spin ferromagnetic QAH state at $3/4$ filling of
TBG aligned with hexagonal boron nitride (hBN). We also predict that, by virtue of the orbital ferromagnetic
nature, the QAH effects at electron and hole fillings of hBN-aligned TBG would exhibit hysteresis
loops with opposite chiralities. 