Electron-phonon superconductors at high pressures have displayed the highest values of critical
superconducting temperature $T_c$ on record. Despite the importance of high-$P$ superconductivity
in the quest for room-temperature superconductors, a mechanistic understanding of the effect
of pressure and its complex interplay with phonon anharmonicity and superconductivity is missing.
Here we develop a theory of electron-phonon superconductivity under an applied pressure that takes
into account the anharmonic decoherence of the optical phonons. The results are striking: generic
trends of $T_c$ with increasing $P$ observed experimentally in both elemental and more complex
superconductors can be recovered and explained in terms of decoherence properties of the boson
glue provided by anharmonically damped optical phonons. In particular, $T_c$ first increases,
goes through a peak and then decays upon further increasing the ratio $\Gamma/\omega_0$, where
$\Gamma$ is the damping and $\omega_0$ the energy of phonons at zero pressure and momentum. Thus,
$T_c$ increases with $\Gamma/\omega_0$ in a regime where phonons behave like well-defined quasiparticles,
and decays with $\Gamma/\omega_0$ in a regime of strong anharmonic damping where phonons are incoherent
("diffusons"). This framework explains recent experimental observations of $T_c$ as a function
of pressure in complex materials (e.g. TlInTe$_2$), where $T_c$ first decreases with pressure
then goes through a minimum after which it rises with pressure again. In a second scenario which is
experimentally realized in certain strongly correlated systems (e.g. the cuprates), the bosonic
mediators are incoherent ($\Gamma \gg \omega_0$) and the $T_c$ dependence on pressure is reversed
but still predicted by our theoretical model. 