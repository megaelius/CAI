Understanding the magnetic properties of graphenic nanostructures is instrumental in future
spintronics applications. These magnetic properties are known to depend crucially on the presence
of defects. Here we review our recent theoretical studies using density functional calculations
on two types of defects in carbon nanostructures: Substitutional doping with transition metals,
and sp$^3$-type defects created by covalent functionalization with organic and inorganic molecules.
We focus on such defects because they can be used to create and control magnetism in graphene-based
materials. Our main results are summarized as follows: i)Substitutional metal impurities are
fully understood using a model based on the hybridization between the $d$ states of the metal atom
and the defect levels associated with an unreconstructed D$_{3h}$ carbon vacancy. We identify
three different regimes, associated with the occupation of distinct hybridization levels, which
determine the magnetic properties obtained with this type of doping; ii) A spin moment of 1.0 $\mu_B$
is always induced by chemical functionalization when a molecule chemisorbs on a graphene layer
via a single C-C (or other weakly polar) covalent bond. The magnetic coupling between adsorbates
shows a key dependence on the sublattice adsorption site. This effect is similar to that of H adsorption,
however, with universal character; iii) The spin moment of substitutional metal impurities can
be controlled using strain. In particular, we show that although Ni substitutionals are non-magnetic
in flat and unstrained graphene, the magnetism of these defects can be activated by applying either
uniaxial strain or curvature to the graphene layer. All these results provide key information about
formation and control of defect-induced magnetism in graphene and related materials. 