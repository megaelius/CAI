We present here numerical modelling of granular flows with the $\mu(I)$ rheology in confined channels.
The contribution is twofold: (i) a model to approximate the Navier-Stokes equations with the $\mu(I)$
rheology through an asymptotic analysis. Under the hypothesis of a one-dimensional flow, this
model takes into account side walls friction; (ii) a multilayer discretization following Fern\'andez-Nieto
et al. (J. Fluid Mech., vol. 798, 2016, pp. 643-681). In this new numerical scheme, we propose an appropriate
treatment of the rheological terms through a hydrostatic reconstruction which allows this scheme
to be well-balanced and therefore to deal with dry areas. Based on academic tests, we first evaluate
the influence of the width of the channel on the normal profiles of the downslope velocity thanks
to the multilayer approach that is intrinsically able to describe changes from Bagnold to S-shaped
(and vice versa) velocity profiles. We also check the well balance property of the proposed numerical
scheme. We show that approximating side walls friction using single-layer models may lead to strong
errors. Secondly, we compare the numerical results with experimental data on granular collapses.
We show that the proposed scheme allows us to qualitatively reproduce the deposit in the case of a
rigid bed (i. e. dry area) and that the error made by replacing the dry area by a small layer of material
may be large if this layer is not thin enough. The proposed model is also able to reproduce the time
evolution of the free surface and of the flow/no-flow interface. In addition, it reproduces the
effect of erosion for granular flows over initially static material lying on the bed. This is possible
when using a variable friction coefficient $\mu(I)$ but not with a constant friction coefficient.
