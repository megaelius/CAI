TiO$_2$ and SrTiO$_3$ are well known materials in the field of photocatalysis due to their exceptional
electronic structure, high chemical stability, non-toxicity and low cost. However, owing to the
wide band gap, these can be utilized only in the UV region. Thus, it's necessary to expand their optical
response in visible region by reducing their band gap through doping with metals, nonmetals or the
combination of different elements, while retaining intact the photocatalytic efficiency. We
report here, the codoping of a metal and a nonmetal in anatase TiO$_2$ and SrTiO$_3$ for efficient
photocatalytic water splitting using hybrid density functional theory and \textit{ab initio}
atomistic thermodynamics. The latter ensures to capture the environmental effect to understand
thermodynamic stability of the charged defects at a realistic condition. We have observed that
the charged defects are stable in addition to neutral defects in anatase TiO$_2$ and the codopants
act as donor as well as acceptor depending on the nature of doping (p-type or n-type). However, the
most stable codopants in SrTiO$_3$ mostly act as donor. Our results reveal that despite the response
in visible light region, the codoping in TiO$_2$ and SrTiO$_3$ cannot always enhance the photocatalytic
activity due to either the formation of recombination centers or the large shift in the conduction
band minimum or valence band maximum. Amongst various metal-nonmetal combinations, Mn$_\textrm{Ti}$S$_\textrm{O}$
(i.e. Mn is substituted at Ti site and S is substituted at O site), S$_\textrm{O}$ in anatase TiO$_2$
and Mn$_\textrm{Ti}$S$_\textrm{O}$, Mn$_\textrm{Sr}$N$_\textrm{O}$ in SrTiO$_3$ are the
most potent candidates to enhance the photocatalytic efficiency of anatase TiO$_2$ and SrTiO$_3$
under visible light irradiation. 