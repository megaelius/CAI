The experimentally observed correlated insulating states and quantum anomalous Hall (QAH) effect
in twisted bilayer graphene (TBG) have drawn significant attention. However, up to date, the specific
mechanisms of these intriguing phenomena are still open questions. Using a fully unrestricted
Hartree-Fock variational method, we have successfully explained the correlated insulating states
and QAH effects at all integer fillings of the flat bands in TBG. Our results indicate that valley
polarized states are energetically favored at all integer fillings. In particular, the correlated
insulating states at $\pm 1/2$ filling and at the charge neutrality point are all valley polarized
sates which break $C_{2z}$ and time-reversal ($\mathcal{T}$) symmetries, but preserves $C_{2z}\mathcal{T}$
symmetry. Such valley polarized states exhibit "moir\'e orbital antiferromagnetic ordering"
on an emergent honeycomb lattice with compensating circulating current pattern in the moir\'e
supercell, which carry nonzero toroidal octupole moments. When an hexagonal boron nitride (hBN)
substrate is aligned with the TBG, the ground states at $\pm 1/2$ fillling are orbital ferromagnetic
and spin paramagnetic states, which give rise to QAH effect with Chern numbers ($C$) $\mp 2$. Such
QAH states can be stablized by vertical magnetic fields, but strongly suppressed by in-plane magnetic
fields due to the spin Zeeman effect. Within the same theoretical framework, our calculations indicate
that the $C\!=\!\mp 1$ QAH states at $\pm 3/4$ filling of the magic-angle TBG is a spin and orbital
ferromagnetic state, which would emerge only if a significant staggered sublattice potential
is present. We also predict that the QAH effects at electron and hole fillings of hBN-aligned TBG
would exhibit hysteresis loops with opposite chiralities. 