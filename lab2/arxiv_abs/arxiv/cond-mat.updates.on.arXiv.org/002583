We study the layered $J_1$-$J_2$ classical Heisenberg model on the square lattice using a self-consistent
bond theory. We derive the phase diagram for fixed $J_1$ as a function of temperature $T$, $J_2$ and
interplane coupling $J_z$. Broad regions of (anti)ferromagnetic and stripe order are found, and
are separated by a first-order transition near $J_2\approx 0.5$ (in units of $|J_1|$). Within the
stripe phase the magnetic and vestigial nematic transitions occur simultaneously in first-order
fashion for strong $J_z$. For weaker $J_z$ there is in addition, for $J_2^*<J_2 < J_2^{**}$, an intermediate
regime of split transitions implying a finite temperature region with nematic order but no long-range
stripe magnetic order. In this split regime, the order of the transitions depends sensitively on
the deviation from $J_2^*$ and $J_2^{**}$, with split second-order transitions predominating
for $J_2^* \ll J_2 \ll J_2^{**}$. We find that the value of $J_2^*$ depends weakly on the interplane
coupling and is just slightly larger than $0.5$ for $|J_z| \lesssim 0.01$. In contrast the value
of $J_2^{**}$ increases quickly from $J_2^*$ at $|J_z| \lesssim 0.01$ as the interplane coupling
is further reduced. In addition, the magnetic correlation length is shown to directly depend on
the nematic order parameter and thus exhibits a sharp increase (or jump) upon entering the nematic
phase. Our results are broadly consistent with predictions based on itinerant electron models
of the iron-based superconductors in the normal-state, and thus help substantiate a classical
spin framework for providing a phenomenological description of their magnetic properties. 