A new lattice Boltzmann method for simulating multiphase flows is developed theoretically. The
method is adjusted such that its continuum limit is the Navier-Stokes equation, with a driving force
derived from the Cahn-Hilliard free energy. In contrast to previous work, however, the bulk and
interface terms are decoupled, the former being incorporated into the model through the local equilibrium
populations, and the latter through a forcing term. We focus on gas-liquid phase equilibria with
the possibility to implement an arbitrary equation of state. The most novel aspect of our approach
is a systematic Chapman-Enskog expansion up to the third order. Due to the third-order gradient
in the interface forcing term, this is needed to obtain a model that is fully consistent with both
hydrodynamics and thermodynamics. In order to satisfy all conditions, we need 59 velocities in
three dimensions, and 21 velocities for simulating two-dimensional systems. Even with such a large
number of velocities, there are restrictions on the equation of state that can only be lifted by increasing
the set further. Moreover, we find that it is necessary to solve a self-consistent equation for the
hydrodynamic flow velocity, in order to enforce the identity of momentum density and mass current
on the lattice. The analysis completely identifies all spurious terms in the Navier-Stokes equation,
and thus shows how to systematically eliminate each of them, by constructing a suitable collision
operator. The commonly noticed inconsistency of most existing models is thus traced back to their
insufficient number of degrees of freedom. Therefore, the gain of the new model is in its clear derivation,
full thermo-hydrodynamic consistency, and expected complete elimination of spurious currents
in the continuum limit. Numerical tests are deferred to future work. 