There are four models of tree-level new physics (NP) that can potentially simultaneously explain
the $b \to s \mu^+ \mu^-$ and $b \to c \tau^- {\bar\nu}$ anomalies. They are the S3, U3 and U1 leptoquarks
(LQs), and a triplet of SM-like vector bosons (VBs). Under the theoretical assumption that the NP
couples only to the third generation in the weak basis, previous analyses found that, when constraints
from other processes are taken into account, the S3, U3 and VB models cannot explain the B anomalies,
but U1 is viable. In this paper, we reanalyze these models, but without any assumption about their
couplings. We find that, even in this most general case, S3 and U3 are excluded. For the U1 model, constraints
from the semileptonic lepton-flavour-violating (LFV) processes $B \to K^{(*)} \mu^\pm \tau^\mp$,
$\tau \to \mu \phi$ and $\Upsilon \to \mu \tau$, which have been largely ignored previously, are
found to be very important. Because of the LFV constraints, the pattern of couplings of the U1 LQ is
similar to that obtained with the above theoretical assumption. Also, the LFV constraints render
unimportant those constraints obtained using the renormalization group equations. As for the
VB model, it is excluded if the above theoretical assumption is made due to the additional constraints
from $B^0_s$-${\bar B}^0_s$ mixing, $\tau\to 3\mu$ and $\tau \to \mu \nu {\bar\nu}$. By contrast,
we find a different set of NP couplings that both explains the $b \to s \mu^+ \mu^-$ anomaly and is compatible
with all constraints. However, it does not reproduce the measured values of the $b \to c \tau^- {\bar\nu}$
anomalies -- it would be viable only if future measurements find that the central values of these
anomalies are reduced. Even so, this VB model is excluded by the LHC bounds on high-mass resonant
dimuon pairs. This conclusion is reached without any assumptions about the NP couplings. 