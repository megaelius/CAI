We develop a linear perturbation theory for the spectral $y$-distortions of the cosmic microwave
background~(CMB). The $y$-distortions generated during the recombination epoch are usually
negligible because the energy transfer due to the Compton scattering is strongly suppressed at
that time, while they can be significant if there is a considerable compensated isocurvature perturbation~(CIP),
which is not well constrained from the present CMB observations. The linear $y$-distortions explicitly
depend on the baryon density fluctuations, therefore $y$ anisotropies can completely resolve
the degeneracy between the baryon isocurvature perturbations and the cold dark matter ones. This
novel method is free from lensing contaminations that can affect the previous approach to the CIPs
based on the nonlinear modulation of the CMB anisotropies. We compute the cross correlation functions
of the $y$-distortions with the CMB temperature and the $E$ mode polarization anisotropies. They
are sensitive to the correlated CIPs parameterized by $f'\equiv\mathcal P_{\rm CIP\zeta}/\mathcal
P_{\zeta \zeta}$ with $\mathcal P_{\zeta \zeta}$ and $\mathcal P_{\rm CIP\zeta}$ being the auto
correlation of the adiabatic perturbations and the cross correlation between them and the CIPs.
We investigate how well the $y$ anisotropies will constrain $f'$ in future observations such as
those provided by a PIXIE-like and a PRISM-like survey, LiteBIRD and the cosmic variance limited~(CVL)
survey, taking into account the degradation in constraining power due to the presence of Sunyaev
Zel'dovich effect from galaxy clusters. For example, our optimistic forecast shows that $f'<3\times
10^{3}$ at 68\% C.L. is possible for LiteBIRD, while $f'<5.0\times 10^{2}$ for the CVL observations.
