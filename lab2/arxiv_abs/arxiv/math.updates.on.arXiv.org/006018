Energy storage can be used for many applications in the Smart Grid such as energy arbitrage, peak
demand shaving, power factor correction, energy backup to name a few, and can play a major role at
increasing the capacity of power networks to host renewable energy sources. Often, storage control
algorithms will need to be \textit{tailored} according to power networks billing structure, reliability
restrictions, and other local power networks norms. In this paper we explore residential energy
storage applications in Uruguay, one of the global leaders in renewable energies, where new low-voltage
consumer contracts were recently introduced. Based on these billing mechanisms, we focus on energy
arbitrage and reactive energy compensation with the aim of minimizing the cost of consumption of
an end-user. Given that in the new contacts the buying and selling price of electricity are equal
and that reactive power compensation is primarily governed by the installed converter, the storage
operation is not sensitive to parameter uncertainties and, therefore, no lookahead is required
for decision making. A threshold-based \textit{hierarchical} controller is proposed which decides
on the optimal active energy for arbitrage and uses the remaining converter capacity for reactive
power compensation, which is shown to increase end-user profit. Numerical results indicate that
storage could be profitable, even considering battery degradation, under some but not all of the
studied contracts. For the cases in which it is not, we propose the best-suited contract. Results
presented here can be naturally applied whenever the tariff structure satisfies the hypothesis
considered in this work. 