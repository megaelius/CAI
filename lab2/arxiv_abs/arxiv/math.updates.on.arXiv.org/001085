Let $p \geq 3$ be a prime. Let $E/\mathbb{Q}$ and $E'/\mathbb{Q}$ be elliptic curves with isomorphic
$p$-torsion modules. Assume that either (i) every $G_\mathbb{Q}$-modules isomorphism $\phi
: E[p] \to E'[p]$ admits a multiple $\lambda \cdot \phi$ with $\lambda \in \mathbb{F}_p^\times$
preserving the Weil pairing; or (ii) no $G_\mathbb{Q}$-isomorphism $\phi : E[p] \to E'[p]$ preserves
the Weil pairing. This extra condition is satisfied, for example, when the $p$-torsion field of
$E$ is non-abelian. This paper considers the problem of deciding if we are in case (i) or (ii). Our
approach is to work locally at a prime $\ell \neq p$: firstly, we determine the primes $\ell$ for which
the local curves $E/\mathbb{Q}_\ell$ and $E'/\mathbb{Q}_\ell$ contain enough information to
decide between (i) or (ii). Secondly, if we find at least one such $\ell$, we effectively decide between
(i) or (ii) using the local information at $\ell$ and the given value of $p$. More precisely, for primes
$\ell \neq p$ we establish several criteria, in terms of the standard invariants associated to minimal
Weierstrass models of $E/\mathbb{Q}_\ell$ and $E'/\mathbb{Q}_\ell$, to decide between (i) and
(ii). We show that our new criteria together with those already in the literature provide a complete
list that will find an answer to the problem whenever this is possible. We also improve the existent
criteria in the cases of curves with defect of semistability $e=3,8,12$; this gives a full solution
to the problem of deciding if we are in case (i) or (ii) by local methods away from $p$. We apply our methods
to improve results on the equation $x^2 + y^3 = z^{p}$ and on the non-existence of rational points
on certain hyperelliptic curves; we also investigate a question raised by Mazur on isomorphisms
between non-isogenous elliptic curves. 