With growing popularity, LoRa networks are pivotally enabling Long Range connectivity to low-cost
and power-constrained user equipments (UEs). Due to its wide coverage area, a critical issue is
to effectively allocate wireless resources to support potentially massive UEs while resolving
the prominent near-far fairness problem in the LoRa network, which is challenging due to the lack
of tractable analytical model and its practical requirement for low-complexity and low-overhead
design. To achieve massive connectivity with fairness, we aim to maximize the minimum throughput
of all UEs, and propose high-level policies of joint spreading factor (SF) allocation, power control,
and duty cycle adjustment based only on average channel statistics and spatial UE distribution.
By leveraging on the Poisson rain model along with tailored modifications to our considered LoRa
network under both single-cell and multi-cell setups, we are able to account for channel fading,
aggregate interference, accurate packet overlapping, and/or multi-gateway packet reception,
and still obtain tractable and accurate formulas for the packet success probability and hence throughput.
We further propose an iterative balancing (IB) method to allocate the SFs in the cell such that the
overall max-min throughput can be achieved. Numerical results show that the proposed scheme with
optimized design greatly alleviates the near-far fairness issue and also reduces the spatial power
consumption, while significantly improving the cell-edge throughput as well as the spatial (sum)
throughput for the majority of UEs, especially for large-scale LoRa networks with massive UEs and
high gateway density. 