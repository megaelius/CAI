Consider a smooth manifold $M$ equipped with a bracket generating distribution $D$. Two sub-Riemannian
metrics on $(M,D)$ are said to be projectively (resp. affinely) equivalent if they have the same
geodesics up to reparameterization (resp. up to affine reparameterization). A sub-Riemannian
metric $g$ is called rigid (resp. conformally rigid) with respect to projective/affine equivalence,
if any sub-Riemannian metric which is projectively/affinely equivalent to $g$ is constantly proportional
to $g$ (resp. conformal to $g$). In the Riemannian case the local classification of projectively
and affinely equivalent metrics is classical (Levi-Civita, Eisenhart). In particular, a Riemannian
metric which is not rigid satisfies the following two special properties: its geodesic flow possesses
nontrivial integrals and the metric induces certain canonical product structure on the ambient
manifold. These classification results were extended to contact and quasi-contact distributions
by Zelenko. Our general goal is to extend these results to arbitrary sub-Riemannian manifolds,
and we establish two types of results toward this goal: if a sub-Riemannian metric is not projectively
conformally rigid, then, first, its flow of normal extremals has at least one nontrivial integral
quadratic on the fibers of the cotangent bundle and, second, the nilpotent approximation of the
underlying distribution at any point admits a product structure. As a consequence we obtain two
types of genericity results: first, we show that a generic sub-Riemannian metric on a fixed pair
$(M,D)$ is projectively conformally rigid. Second, we prove that, except for special pairs $(m,n)$,
every sub-Riemannian metric on a rank $m$ generic distribution in an $n$-dimensional manifold
is projectively conformally rigid. For the affine equivalence in both genericity results conformal
rigidity can be replaced by usual rigidity. 