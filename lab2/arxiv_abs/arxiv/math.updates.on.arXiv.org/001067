Probabilistic models of directed polymers in random environment have received considerable attention
in recent years. Much of this attention has focused on integrable models. In this paper, we introduce
some new computational tools that do not require integrability. We begin by defining a new kind of
abstract limit object, called "partitioned subprobability measure", to describe the limits of
endpoint distributions of directed polymers. Inspired by a recent work of Mukherjee and Varadhan
on large deviations of the occupation measure of Brownian motion, we define a suitable topology
on the space of partitioned subprobability measures and prove that this topology is compact. Then
using a variant of the cavity method from the theory of spin glasses, we show that any limit law of a
sequence of endpoint distributions must satisfy a fixed point equation on this abstract space,
and that the limiting free energy of the model can be expressed as the solution of a variational problem
over the set of fixed points. As a first application of the theory, we prove that in an environment
with finite exponential moment, the endpoint distribution is asymptotically purely atomic if
and only if the system is in the low temperature phase. The analogous result for a heavy-tailed environment
was proved by Vargas in 2007. As a second application, we prove a subsequential version of the longstanding
conjecture that in the low temperature phase, the endpoint distribution is asymptotically localized
in a region of stochastically bounded diameter. All our results hold in arbitrary dimensions, and
make no use of integrability. 