This paper develops theory for feasible estimation and testing of finite-dimensional parameters
identified by general conditional quantile restrictions. This includes instrumental variables
nonlinear quantile regression as a special case, under much weaker assumptions than previously
seen in the literature. More specifically, we consider a set of unconditional moments implied by
the conditional quantile restrictions and provide conditions for local identification. Since
estimators based on the sample moments are generally impossible to compute numerically in practice,
we study a feasible estimator based on smoothed sample moments. We establish consistency and asymptotic
normality under general conditions that allow for weakly dependent data and nonlinear structural
models, and we explore options for testing general nonlinear hypotheses. Simulations with iid
and time series data illustrate the finite-sample properties of the estimators and tests. Our in-depth
empirical application concerns the consumption Euler equation derived from quantile utility
maximization. Advantages of the quantile Euler equation include robustness to fat tails, decoupling
of risk attitude from the elasticity of intertemporal substitution, and log-linearization without
any approximation error. For the four countries we examine, the quantile estimates of discount
factor and elasticity of intertemporal substitution are economically reasonable for a range of
quantiles just above the median, even when two-stage least squares estimates are not reasonable.
Code is provided for all methods, simulations, and applications at the third author's website.
