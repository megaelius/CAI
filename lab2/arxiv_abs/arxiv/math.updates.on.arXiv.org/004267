In this paper, we investigate the uplink transmissions in low-power wide-area networks (LPWAN)
where the users are self-powered by the energy harvested from the ambient environment. Demonstrating
their potential in supporting diverse Internet-of-Things (IoT) applications, we focus on long
range (LoRa) networks where the LoRa users are using the harvested energy to transmit data to a gateway
via different spreading codes. Precisely, we study the throughput fairness optimization problem
for LoRa users by jointly optimizing the spreading factor (SF) assignment, energy harvesting (EH)
time duration, and the transmit power of LoRa users. First, through examination of the various permutations
of collisions among users, we derive a general expression of the packet collision time between LoRa
users, which depends on the SFs and EH duration requirements. Then, after reviewing prior SF allocation
work, we develop two types of algorithms that either assure fair SF assignment indeed purposefully
'unfair' allocation schemes for the LoRa users. Our results unearth three new findings. Firstly,
we demonstrate that, to maximize the minimum rate, the unfair SF allocation algorithm outperforms
the other approaches. Secondly, considering the derived expression of packet collision between
simultaneous users, we are now able to improve the performance of the minimum rate of LoRa users and
show that it is protected from inter-SF interference which occurs between users with different
SFs. That is, imperfect SF orthogonality has no impact on minimum rate performance. Finally, we
have observed that co-SF interference is the main limitation in the throughput performance, and
not the energy scarcity. 