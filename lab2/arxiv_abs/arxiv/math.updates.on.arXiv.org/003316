Environments with immobile obstacles or void regions that inhibit and alter the motion of individuals
within that environment are ubiquitous. Correlation in the location of individuals within such
environments arises as a combination of the mechanisms governing individual behavior and the heterogeneous
structure of the environment. Measures of spatial structure and correlation have been successfully
implemented to elucidate the roles of the mechanisms underpinning the behavior of individuals.
In particular, the pair correlation function has been used across biology, ecology and physics
to obtain quantitative insight into a variety of processes. However, naively applying standard
pair correlation functions in the presence of obstacles may fail to detect correlation, or suggest
false correlations, due to a reliance on a distance metric that does not account for obstacles. To
overcome this problem, here we present an analytic expression for calculating a corrected pair
correlation function for lattice-based domains containing obstacles. We demonstrate that this
corrected pair correlation function is necessary for isolating the correlation associated with
the behavior of individuals, rather than the structure of the environment. Using simulations that
mimic cell migration and proliferation we demonstrate that the corrected pair correlation function
recovers the short-range correlation known to be present in this process, independent of the heterogeneous
structure of the environment. Further, we show that the analytic calculation of the corrected pair
correlation derived here is significantly faster to implement than the corresponding numerical
approach. 