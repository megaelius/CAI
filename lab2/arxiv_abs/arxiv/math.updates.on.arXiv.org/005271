A decorated surface S is a surface with a finite set of special points on the boundary, considered
modulo isotopy. Let G be a split reductive group. A pair (G, S) gives rise to a moduli space A(G, S),
closely related to the space of G-local systems on S. It has a positive structure. So the set of its
integral tropical points is defined. We introduce a rational positive function W on A(G, S), the
potential. The condition that its tropicalisation is non-negative determines its subset. For
SL(2), we recover the set of integral laminations on S. We prove that when S is a disc with n special
points on the boundary, this set parametrises top dimensional components of the convolution varieties.
Thus, via geometric Satake correspondence, they provide a canonical basis in tensor product invariants
of irreducible modules for the Langlands dual group. When G=GL(m), n=3, there is a special coordinate
system on A(G,S). We show that it identifies our set with the set of with Knutson-Tao's hives. Our
result generalises a theorem of Kamnitzer, who used hives to parametrise top components of convolution
varieties for GL(m), n=3. For n>3, we prove Kamnitzer's conjecture. We define canonical bases in
tensor products, generalizing the Mirkovic-Vilonen basis in a single representation. We prove
that for any S, the set of positive integral tropical points of A(G, S) parametrise top components
in a new space, surface affine Grasmannian. We view W as a potential for Landau-Ginzburg model on
A(G,S). We conjecture that the pair (A(G,S), W) is the mirror dual to the moduli space of local systems
on S for the Langlands dual group. In a special case, we recover Givental's description of the quantum
cohomology connection for flag varieties. 