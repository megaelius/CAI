The present work was primarily motivated by our findings in the literature of some flaws within the
proof of the second-order Legendre necessary optimality condition for fractional calculus of
variations problems. Therefore we were eager to elaborate a correct proof and it turns out that this
goal is highly nontrivial, especially when considering final constraints. This paper is the result
of our reflections on this subject. Precisely we consider here a constrained minimization problem
of a general Bolza functional that depends on a Caputo fractional derivative of order 0 < $\alpha$
$\le$ 1 and on a Riemann-Liouville fractional integral of order $\beta$ > 0, the constraint set describing
general mixed initial/final constraints. The main contribution of our work is to derive corresponding
first-and second-order necessary optimality conditions, namely the Euler-Lagrange equation,
the transversality conditions and, of course, the Legendre condition. A detailed discussion is
provided on the obstructions encountered with the classical strategy, while the new proof that
we propose here is based on the Ekeland variational principle. Furthermore we underline that some
subsidiary contributions are provided all along the paper. In particular we prove an independent
and intrinsic result of fractional calculus stating that it does not exist a nontrivial function
which is, together with its Caputo fractional derivative of order 0 < $\alpha$ < 1, compactly supported.
Moreover we also discuss some evidences claiming that Riemann-Liouville fractional integrals
should be considered in the formulation of fractional calculus of variations problems in order
to preserve the existence of solutions. 