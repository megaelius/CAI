A graph coloring has bounded clustering if each monochromatic component has bounded size. This
paper studies clustered coloring, where the number of colors depends on an excluded subgraph. This
is a much weaker assumption than previous works, where typically the number of colors depends on
an excluded minor. We prove the following: 1. Graphs of bounded treewidth and with no $K_{s,t}$-subgraph
are $s+1$-choosable with bounded clustering, which is best possible. 2. Graphs excluding a fixed
minor and with no $K_{s,t}$-subgraph are $s+2$-colorable with bounded clustering. The number
of colors here is best possible. 3. Graphs excluding a fixed odd minor and with no $K_{s,t}$-subgraph
are $2s+1$-colorable with bounded clustering, generalizing a result of the first author and Oum.
4. Graphs with no $K_{s+1}$-subdivision are $4s-5$-colorable with bounded clustering. It is the
first $O(s)$ bound for such graphs. 5. Graphs excluding a fixed minor and with no $K_{s+1}$-subdivision
are $s+1$-colorable with bounded clustering. This implies that $K_{s+1}$-minor-free graphs
are $s+1$-colorable with bounded clustering, which is within one color of the clustered analogue
of Hadwiger's conjecture. 6. Graphs with bounded treewidth and with no $K_{s+1}$-subdivision
are $s$-choosable with bounded clustering. This implies the clustered analogue of Haj\'{o}s'
conjecture for graphs of bounded treewidth. 7. Graphs with bounded layered treewidth and with no
$K_{s,t}$-subgraph are $s+2$-colorable with bounded clustering. Layered treewidth is a key tool
in the above proofs, and is of independent interest since many natural graph classes have bounded
layered treewidth. 