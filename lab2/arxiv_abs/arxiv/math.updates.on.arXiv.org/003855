We investigate sales-based rebate mechanisms according to which a monopolist selling a product
introduces a rebate as a function of the volume of buyers, which can be used to induce payoff externalities
that ordinarily do not exist. Specifically, we consider a firm selling an indivisible product to
a mass of consumers with uncertain valuations with two sources of uncertainty: a systemic uncertainty
coming from the uncertainty in realized quality, and an idiosyncratic uncertainty modeling the
diversity of consumers' tastes. We propose and analyze an aggregate reward program where the reward
paid to buyers is a function of the sales volume. Analyzing the induced global game among the buyers,
we show that introducing positive externality via an increasing reward program is harmful to the
profit. Finding the optimal reward program, however, is an analytically intractable infinite
dimensional non-concave maximization problem. Using variational optimization techniques,
we identify several key characteristics of the optimal solution: the solution is a `full-refund
or nothing' policy fully reimbursing buyers if the realized quality falls in one of the finitely
many refund-eligible intervals. The number of intervals tends to infinity as tastes get less diverse
and valuations concentrate more around the quality. For any number of intervals, an optimally designed
program degrades to the no-reward case in this regime. We then fully characterize the optimal solution
within two subspaces of range-constrained and rate-constrained reward functions. These two reward
programs provably perform well compared to the optimal solution; the former coincides with the
optimal solution when most of the uncertainty in valuations comes from diversity in tastes, while
the latter yields a profit asymptotically approaching the optimal one when the uncertainty in valuations
is primarily due to the unknown quality. 