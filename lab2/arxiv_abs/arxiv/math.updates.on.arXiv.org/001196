We develop a framework for dimension reduction, mode decomposition, and nonparametric forecasting
of data generated by ergodic dynamical systems. This framework is based on a representation of the
Koopman and Perron-Frobenius groups of unitary operators in a smooth orthonormal basis of the L2
space of the dynamical system, acquired from time-ordered data through the diffusion maps algorithm.
Using this representation, we compute Koopman eigenfunctions through a regularized advection-diffusion
operator, and employ these eigenfunctions in dimension reduction maps with projectible dynamics
and high smoothness for the given observation modality. In systems with pure point spectra, we construct
a decomposition of the generator of the Koopman group into mutually commuting vector fields that
transform naturally under changes of observation modality, which we reconstruct in data space
through a representation of the pushforward map in the Koopman eigenfunction basis. We also establish
a correspondence between Koopman operators and Laplace-Beltrami operators constructed from
data in Takens delay-coordinate space, and use this correspondence to provide an interpretation
of diffusion-mapped delay coordinates for this class of systems. Moreover, we take advantage of
a special property of the Koopman eigenfunction basis, namely that the basis elements evolve as
simple harmonic oscillators, to build nonparametric forecast models for probability densities
and observables. In systems with more complex spectral behavior, including mixing systems, we
develop a method inspired from time change in dynamical systems to transform the generator to a new
operator with potentially improved spectral properties, and use that operator for vector field
decomposition and nonparametric forecasting. 