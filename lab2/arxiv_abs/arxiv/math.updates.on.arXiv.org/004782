The rank of a hierarchically hyperbolic space is the maximal number of unbounded factors of standard
product regions; this coincides with the maximal dimension of a quasiflat for hierarchically hyperbolic
groups. Noteworthy examples where the rank coincides with familiar quantities include: the dimension
of maximal Dehn twist flats for mapping class groups, the maximal rank of a free abelian subgroup
for right-angled Coxeter groups and right-angled Artin groups (in the latter this coincides with
the clique number of the defining graph), and, for the Weil-Petersson metric the rank is half the
complex dimension of Teichmuller space. We prove that in a HHS, any quasiflat of dimension equal
to the rank lies within finite distance of a union of standard orthants (under a very mild condition
satisfied by all natural examples). This resolves outstanding conjectures when applied to a number
of different groups and spaces. The mapping class group case resolves a conjecture of Farb, in Teichmuller
space this resolves a question of Brock, and in the context of CAT(0) cubical groups it strengthens
previous results (so as to handle, for example, the right-angled Coxeter case). An important ingredient,
is our proof that the hull of any finite set in an HHS is quasi-isometric to a cube complex of dimension
equal to the rank. We deduce a number of applications; for instance we show that any quasi-isometry
between HHS induces a quasi-isometry between certain simpler HHS. This allows one, for example,
to distinguish quasi-isometry classes of right-angled Artin/Coxeter groups. Another application
is that our tools, in many cases, allow one to reduce the problem of quasi-isometric rigidity for
a given HHG to a combinatorial problem. As a template, we give a new proof of quasi-isometric rigidity
of mapping class groups, using simpler combinatorial arguments than in previous proofs. 