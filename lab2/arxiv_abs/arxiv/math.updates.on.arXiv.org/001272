Chern-Schwartz-MacPherson (CSM) classes generalize to singular and/or noncompact varieties
the classical total homology Chern class of the tangent bundle of a smooth compact complex manifold.
The theory of CSM classes has been extended to the equivariant setting by Ohmoto. We prove that for
an arbitrary complex projective manifold $X$, the homogenized, torus equivariant CSM class of
a constructible function $\varphi$ is the restriction of the characteristic cycle of $\varphi$
via the zero section of the cotangent bundle of $X$. This extends to the equivariant setting results
of Ginzburg and Sabbah. We specialize $X$ to be a (generalized) flag manifold $G/B$. In this case
CSM classes are determined by a Demazure-Lusztig (DL) operator. We prove a `Hecke orthogonality'
of CSM classes, determined by the DL operator and its Poincar{\'e} adjoint. We further use the theory
of holonomic $\mathcal{D}_X$-modules to show that the characteristic cycle of a Verma module,
restricted to the zero section, gives the CSM class of the corresponding Schubert cell. Since the
Verma characteristic cycles naturally identify with the Maulik and Okounkov's stable envelopes,
we establish an equivalence between CSM classes and stable envelopes; this reproves results of
Rim{\'a}nyi and Varchenko. As an application, we obtain a Segre type formula for CSM classes. In
the non-equivariant case this formula is manifestly positive, showing that the expansion in the
Schubert basis of the CSM class of a Schubert cell is effective. This proves a previous conjecture
by Aluffi and Mihalcea, and it extends previous positivity results by J. Huh in the Grassmann manifold
case. Finally, we generalize all of this to partial flag manifolds $G/P$. 