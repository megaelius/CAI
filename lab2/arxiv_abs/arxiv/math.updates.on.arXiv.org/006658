This work presents a novel data-driven framework for constructing eigenfunctions of the Koopman
operator geared toward prediction and control. The method leverages the richness of the spectrum
of the Koopman operator away from attractors to construct a rich set of eigenfunctions such that
the state (or any other observable quantity of interest) is in the span of these eigenfunctions and
hence predictable in a linear fashion. The eigenfunction construction is optimization-based
with no dictionary selection required. Once a predictor for the uncontrolled part of the system
is obtained in this way, the incorporation of control is done through a multi-step prediction error
minimization, carried out by a simple linear least-squares regression. The predictor so obtained
is in the form of a linear controlled dynamical system and can be readily applied within the Koopman
model predictive control framework of [12] to control nonlinear dynamical systems using linear
model predictive control tools. The method is entirely data-driven and based purely on convex optimization,
with no reliance on neural networks or other non-convex machine learning tools. The novel eigenfunction
construction method is also analyzed theoretically, proving rigorously that the family of eigenfunctions
obtained is rich enough to span the space of all continuous functions. In addition, the method is
extended to construct generalized eigenfunctions that also give rise Koopman invariant subspaces
and hence can be used for linear prediction. Detailed numerical examples with code available online
demonstrate the approach, both for prediction and feedback control. 