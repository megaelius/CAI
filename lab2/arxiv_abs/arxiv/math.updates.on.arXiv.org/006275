This paper provides the extension of the observability rank condition and the extension of the controllability
rank condition to time-varying nonlinear systems. Previous conditions to check the state observability
and controllability, only account for nonlinear systems that do not explicitly depend on time,
or, for time-varying systems, they only account for the linear case. In this paper, the general analytic
conditions are provided. The paper shows that both these two new conditions (the extended observability
rank condition and the extended controllability rank condition) reduce to the well known rank conditions
for observability and controllability in the two simpler cases of time-varying linear systems
and time-invariant nonlinear systems. The proposed new conditions work automatically and can
deal with any system, independently of its complexity (state dimension, type of nonlinearity,
etc). Simple examples illustrate both these conditions. In addition, the two new conditions are
used to study the observability and the controllability properties of a lunar module. For this system,
the dynamics exhibit an explicit time-dependence due to the variation of the weight and the variation
of the moment of inertia. These variations are a consequence of the fuel consumption. To study the
observability and the controllability properties of this system, the extended observability
rank condition and the extended controllability rank condition introduced by this paper are required.
The paper shows that, even under the constraint that the main rocket engine delivers constant power,
the state is weakly locally controllable. Additionally, it is weakly locally observable up to the
yaw angle. 