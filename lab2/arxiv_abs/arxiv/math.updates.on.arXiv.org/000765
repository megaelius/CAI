We present here the first part of a program for a classification of the generic dynamics close to homoclinic
and heteroclinic points, in the $C^r$ topologies, $r\geq 1$. The two prototypical examples of non-hyperbolic
dynamics are homoclinic tangencies and heterodimensional cycles. Palis conjectured that they
actually characterize densely non-hyperbolic dynamics. It is therefore important to understand
what happens close to those bifurcations. We generalize celebrated results of Newhouse, Palis
and Viana, for both tangencies and cycles: close to a homoclinic tangency or to a heterodimensional
cycle there is abundance of diffeomorphisms exhibiting infinitely many sinks or sources if and
only if the dynamics is not volume-hyperbolic. This proves in particular a conjecture of Turaev
for homoclinic tangencies. For $r=1$, Bonatti, Diaz, Pujals famously showed that if a homoclinic
class is $C^r$-robustly without dominated splitting, then nearby diffeomorphisms exhibit $C^r$-generically
infinitely many sinks or sources. We show that this holds for $r>1$, under the further assumption
that non-dominations are obtained through so-called "mechanisms". This includes all the examples
of robustly non-dominated homoclinic classes one can build with the tools known up to now. We actually
have a $C^r$-equivalent of a recent $C^1$-result of Bochi and Bonatti: we describe precisely the
Lyapunov exponents along periodic points that may appear close to a homoclinic tangency or to a homoclinic
class. The results of Newhouse, Palis and Viana were proven for the $C^r$ topologies, $r\geq 2$.
Our results hold also in the $C^{1+\alpha}$ topologies. 