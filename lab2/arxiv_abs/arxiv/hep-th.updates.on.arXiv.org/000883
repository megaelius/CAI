The Hamiltonian formalism of the generalized unimodular gravity theory, which was recently suggested
as a model of dark energy, is shown to be a complicated example of constrained dynamical system. The
set of its canonical constraints has a bifurcation -- splitting of the theory into two branches differing
by the number and type of these constraints, one of the branches effectively describing a gravitating
perfect fluid with the time-dependent equation of state, which can potentially play the role of
dark energy in cosmology. The first class constraints in this branch generate local gauge symmetries
of the Lagrangian action -- two spatial diffeomorphisms -- and rule out the temporal diffeomorphism
which does not have a realization in the form of the canonical transformation on phase space of the
theory and turns out to be either nonlocal in time or violating boundary conditions at spatial infinity.
As a consequence, the Hamiltonian reduction of the model enlarges its physical sector from two general
relativistic modes to three degrees of freedom including the scalar graviton. This scalar mode
is free from ghost and gradient instabilities on the Friedmann background in a wide class of models
subject to a certain restriction on time-dependent parameter $w$ of the dark fluid equation of state,
$p=w\varepsilon$. For a special family of models this scalar mode can be ruled out even below the
phantom divide line $w=-1$, but this line cannot be crossed in the course of the cosmological expansion.
This is likely to disable the generalized unimodular gravity as a model of the phenomenologically
consistent dark energy scenario, but opens the prospects in inflation theory with a scalar graviton
playing the role of inflaton. 