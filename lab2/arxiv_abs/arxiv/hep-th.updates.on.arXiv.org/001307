There has been renewed interest in the path-integral computation of the partition function of AdS3
gravity, both in the metric and Chern-Simons formulations. The one-loop partition function around
Euclidean AdS3 turns out to be given by the vacuum character of Virasoro group. This stems from the
work of Brown and Henneaux (BH) who showed that, in AdS3 gravity with sensible asymptotic boundary
conditions, an infinite group of (improper) diffeomorphisms arises which acts canonically on
phase space as two independent Virasoro symmetries. The gauge group turns out to be composed of so-called
``proper'' diffeomorphisms which approach the identity at infinity fast enough. However, it is
sometimes far from evident to identify where BH boundary conditions enter in the path integral,
and much more difficult to see how the improper diffeomorphisms are left out of the gauge group. In
particular, in the metric formulation, Giombi, Maloney and Yin obtained the one-loop partition
function around thermal AdS3 resorting to the heat kernel method to compute the determinants coming
from the path integral. Here we identify how BH boundary conditions follow naturally from the usual
requirement of square-integrability of the metric perturbations. Also, and equally relevant,
we clarify how the quotient by only proper diffeomorphisms is implemented, promoting the improper
diffeomorphisms to symmetries in the path integral. Our strategy is general enough to apply to other
approaches where square integrability is assumed. Finally, we show that square integrability
implies that the asymptotic symmetries in higher dimensional AdS gravity are just isometries.
