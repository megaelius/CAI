We perform a suite of simulations with realistic gravity and thermal balance in shells to quantify
the role of the ratio of cooling time to the free-fall time ($t_{\rm cool}/t_{\rm ff}$) and the amplitude
of density perturbations ($\delta \rho/\rho$) in the production of multiphase gas in the circumgalactic
medium (CGM). Previous idealized simulations, focussing on small amplitude perturbations in
the intracluster medium (ICM), found that cold gas can condense out of the hot ICM in global thermal
balance when the background $t_{\rm cool}/t_{\rm ff} \lesssim 10$. Recent observations suggest
the presence of cold gas even when the background profiles have somewhat large values of ${t_{\rm
cool}/t_{\rm ff}}$. This partly motivates a better understanding of additional factors such as
large density perturbations that can enhance the propensity for cooling and condensation even
when the background ${t_{\rm cool}/t_{\rm ff}}$ is high. Such large density contrasts can be seeded
by galaxy wakes or dense cosmological filaments. From our simulations, we introduce a condensation
curve in the $(\delta \rho/\rho)$ - min$(t_{\rm cool}/t_{\rm ff})$ space, that defines the threshold
for condensation of multiphase gas in the CGM. We show that this condensation curve corresponds
to ${(t_{\rm cool}/t_{\rm ff})}_{\rm blob} \lesssim 10$ applied to the overdense blob instead
of the background for which $t_{\rm cool}/t_{\rm ff}$ can be higher. We also study the modification
in the condensation curve by varying entropy stratification. Steeper (positive) entropy gradients
shift the condensation curve to higher amplitudes of perturbations (i.e., make condensation difficult).
A constant entropy core, applicable to the CGM in smaller halos, shows condensation over a larger
range of radii as compared to the steeper entropy profiles in the ICM. 