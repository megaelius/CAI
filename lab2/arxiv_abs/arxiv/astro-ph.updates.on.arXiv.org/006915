A numerical shearing box is used to perform three-dimensional simulations of a 1 kpc stratified
cubic box of turbulent and self-gravitating interstellar medium (in a rotating frame) with supernovae
and HII feedback. We vary the value of the velocity gradient induced by the shear and the initial value
of the galactic magnetic field. Finally the different star formation rates and the properties of
the structures associated with this set of simulations are computed. We first confirm that the feedback
has a strong limiting effect on star formation. The galactic shear has also a great influence: the
higher the shear, the lower the SFR. Taking the value of the velocity gradient in the solar neighbourhood,
the SFR is too high compared to the observed Kennicutt law, by a factor approximately three to six.
This discrepancy can be solved by arguing that the relevant value of the shear is not the one in the
solar neighbourhood, and that in reality the star formation efficiency within clusters is not 100%.
Taking into account the fact that star-forming clouds generally lie in spiral arms where the shear
can be substantially higher (as probed by galaxy-scale simulations), the SFR is now close to the
observed one. Different numerical recipes have been tested for the sink particles, giving a numerical
incertitude of a factor of about two on the SFR. Finally we have also estimated the velocity dispersions
in our dense clouds and found that they lie below the observed Larson law by a factor of about two. Conclusions.
In our simulations, magnetic field, shear, HII regions, and supernovae all contribute significantly
to reduce the SFR. In this numerical setup with feedback from supernovae and HII regions and a relevant
value of galactic shear, the SFRs are compatible with those observed, with a numerical incertitude
factor of about two. 