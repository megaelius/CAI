We perform a detailed forecast on how well a Euclid-like survey will be able to constrain dark energy
and neutrino parameters from a combination of its cosmic shear power spectrum, galaxy power spectrum,
and cluster mass function measurements. We find that the combination of these three probes vastly
improves the survey's potential to measure the time evolution of dark energy. In terms of a dark energy
figure-of-merit defined as (sigma(w_0) sigma(w_a))^-1, we find a value of 454 for Euclid-like
data combined with Planck-like measurements of the cosmic microwave background (CMB) anisotropies
in a fiducial LambdaCDM cosmology, a number that is quite conservative compared with existing estimates
because of our choice of model parameter space and analysis method, but still represents a factor
of 3 to 8 improvement over using either CMB+galaxy clustering+cosmic shear data, or CMB+cluster
mass function alone. We consider also the survey's potential to measure dark energy perturbations
in models wherein the dark energy is parameterised as a fluid with a nonstandard non-adiabatic sound
speed, and find that in an optimistic scenario in which w_0 deviates by as much as is currently observationally
allowed from -1, models with c_s^2 = 10^-6 and c_s^2 = 1 can be distinguished at more than 2sigma significance.
Under the same optimistic assumptions, if the Jeans mass associated with dark energy clustering
falls within the cluster mass range observed by the survey, then the order of magnitude of the dark
energy sound speed can potentially be pinned down. Finally, we find that the sum of neutrino masses
can be measured with a 1sigma precision of 0.01eV, even in complex cosmological models in which the
dark energy equation of state varies with time. (abridged) 