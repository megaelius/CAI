The census of stellar and substellar companions of nearby stars is largely incomplete, in particular
towards the low mass brown dwarf and long-period exoplanets. It is however of fundamental importance
for stellar and planetary formation and evolution mechanisms. We aim at characterizing the presence
of physical companions of stellar and substellar mass orbiting nearby stars. Orbiting secondary
bodies influence the proper motion (PM) of their parent star. Using the Hipparcos (Hip) and Gaia
DR2 (GDR2) catalogs, we determine the long-term PM of each star. We then search for a proper motion
anomaly (PMa) between the long-term PM and the GDR2 (or Hip) measurements, indicative of the presence
of a secondary object. We present a catalog of the PMa of 6741 nearby stars located within 50 pc. A fraction
of ~40% of these objects presents a PMa at a level of more than 2{\sigma}, and ~30% at more than 3{\sigma}.
We present a few illustrations of the PMa analysis. We set upper limits of 0.1 - 0.2 MJup to potential
planets of Proxima between 1 and 10 au and 2.5 MJup on any stable orbit. We confirm that Proxima is gravitationally
bound to alpha Cen. We recover the masses of the known companions of eps Eri, eps Ind, Ross 614, GJ 229,
tau Boo and beta Pic. We also detect a possible long-period planet of a few jovian masses orbiting
tau Ceti. The combination of the GDR2 with Hipparcos and the very high accuracy of the derived PMa
already enables to set valuable constraints on the binarity of nearby objects. The detection of
tangential velocity anomalies at a level of {\sigma}(dVtan) = 1.1 m/s per parsec of distance is already
possible with the GDR2. This opens the possibility to identify long period orbital companions otherwise
inaccessible. The complementarity of Gaia, radial velocity and transit techniques already appears
as remarkably powerful. 