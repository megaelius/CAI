Metallicity and gas content are intimately related in the baryonic exchange cycle of galaxies,
and galaxy evolution scenarios can be constrained by quantifying this relation. To this end, we
have compiled a sample of ~450 galaxies in the Local Universe, dubbed "MAGMA" (Metallicity And Gas
for Mass Assembly), which covers an unprecedented range in parameter space, spanning more than
5 orders of magnitude in stellar mass (Mstar), star-formation rate (SFR), and gas mass (Mgas), and
a factor of ~60 in metallicity [Z, 12+log(O/H)]. We have applied 4-dimensional and 3-dimensional
(3D) principal component analyses (PCAs) to our sample, to assess the true dimensionality of the
data. In confirmation of previous work, we find that even with the vast parameter space covered by
MAGMA, the relations between Mstar, SFR, Z and Mgas (MHI+MH2) require only two dimensions to describe
the hypersurface. Nevertheless, to accommodate the curvature in the Mstar-Z relation, we have
applied a piecewise 3D PCA that successfully predicts observed 12+log(O/H) to an accuracy of ~0.07
dex. We also present a new relation to express Mgas as a linear combination of Mstar and SFR, to an accuracy
of ~0.2 dex. Finally, for the first time on a statistically significant sample with all the necessary
measurements, we quantify Mgas as a function of Mstar and evaluate the effect of gas on the mass-metallicity
relation (MZR). By inferring the metallicity-loading and mass-loading factors for the outflows
produced by the MAGMA galaxies, we find that the metal-retention efficiency is not constant with
Mstar; metals are expelled more efficiently from low-mass galaxies than from massive ones. Agreement
with earlier work is excellent, but is highly sensitive to the values adopted for the stellar nucleosynthetic
yield y. Our analysis shows clearly that gas content and outflows driven by star formation shape
the MZR. 