We derive the contribution to the extragalactic gamma-ray background (EGB) from AGN winds and star-forming
galaxies by including a physical model for the gamma-ray emission produced by relativistic protons
accelerated by AGN-driven and supernova-driven shocks into a state-of-the-art semi-analytic
model of galaxy formation. This is based on galaxy interactions as triggers of AGN accretion and
starburst activity and on expanding blast wave as the mechanism to communicate outwards the energy
injected into the interstellar medium by the active nucleus. We compare the model predictions with
the latest measurement of the EGB spectrum performed by the Fermi-LAT in the range between 100 MeV
and 820 GeV. We find that AGN winds can provide ~35$\pm$15% of the observed EGB in the energy interval
E_{\gamma}=0.1-1 GeV, for ~73$\pm$15% at E_{\gamma}=1-10 GeV, and for ~60$\pm$20% at E_{\gamma}>10
GeV. The AGN wind contribution to the EGB is predicted to be larger by a factor of 3-5 than that provided
by star-forming galaxies (quiescent plus starburst) in the hierarchical clustering scenario.
The cumulative gamma-ray emission from AGN winds and blazars can account for the amplitude and spectral
shape of the EGB, assuming the standard acceleration theory, and AGN wind parameters that agree
with observations. We also compare the model prediction for the cumulative neutrino background
from AGN winds with the most recent IceCube data. We find that for AGN winds with accelerated proton
spectral index p=2.2-2.3, and taking into account internal absorption of gamma-rays, the Fermi-LAT
and IceCube data could be reproduced simultaneously. 