N-body simulations make unambiguous predictions for the abundance of substructure within dark
matter halos. For example, in the case of $\Lambda$CDM, they predict a mass function of subhalos
that extends to very low masses, whereas in warm dark matter models they predict a truncation in the
mass function at a mass that depends on the properties of the warm dark matter particle. These differences
suggest a powerful test of the nature of the dark matter. However, the inclusion of baryons in the
simulations changes the picture because processes associated with the presence of a large galaxy
in the halo can destroy subhalos and substantially alter the mass function. We compare the outcome
of this process in two state-of-the-art sets of hydrodynamics $\Lambda$CDM simulations of Milky
Way mass halos, Apostle and Auriga. We introduce a new method for tracking the orbits of subhalos
between simulation snapshots that gives accurate results down to a few kiloparsecs from the centre
of the halo. Relative to a dark matter-only simulation, the abundance of subhalos in Apostle is reduced
by 50% near the centre and by 10% within the virial radius. In Auriga the corresponding numbers are
80% and 40%. The velocity distributions of subhalos are also affected by the presence of the galaxy,
much more so in Auriga than in Apostle. The differences on subhalo properties in the two simulations
can be traced back to the mass of the central galaxies in Auriga, which are typically twice as massive
as those in Apostle. We show that results from previous studies are inaccurate due systematic errors
in modelling of subhalo orbits near the centre of halos. 