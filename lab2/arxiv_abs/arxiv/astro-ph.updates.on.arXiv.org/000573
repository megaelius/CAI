The hot Jupiter HD189733b is the most extensively observed exoplanet. Its atmosphere has been detected
and characterised in transmission and eclipse spectroscopy, and its phase curve measured at several
wavelengths. This paper brings together results of our campaign to obtain the complete transmission
spectrum of the atmosphere of this planet from UV to IR with HST, using STIS, ACS and WFC3. We provide
a new tabulation of the transmission spectrum across the entire visible and IR range. The radius
ratio in each wavelength band was rederived to ensure a consistent treatment of the bulk transit
parameters and stellar limb-darkening. Special care was taken to correct for, and derive realistic
estimates of the uncertainties due to, both occulted and unocculted star spots. The combined spectrum
is very different from the predictions of cloud-free models: it is dominated by Rayleigh scattering
over the whole visible and near infrared range, the only detected features being narrow Na and K lines.
We interpret this as the signature of a haze of condensate grains extending over at least 5 scale heights.
We show that a dust-dominated atmosphere could also explain several puzzling features of the emission
spectrum and phase curves, including the large amplitude of the phase curve at 3.6um, the small hot-spot
longitude shift and the hot mid-infrared emission spectrum. We discuss possible compositions
and derive some first-order estimates for the properties of the putative condensate haze/clouds.
We finish by speculating that the dichotomy between the two observationally defined classes of
hot Jupiter atmospheres, of which HD189733b and HD209458b are the prototypes, might not be whether
they possess a temperature inversion, but whether they are clear or dusty. We also consider the possibility
of a continuum of cloud properties between hot Jupiters, young Jupiters and L-type brown dwarfs.
