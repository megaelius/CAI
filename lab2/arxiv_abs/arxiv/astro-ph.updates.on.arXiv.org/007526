Star formation is an inefficient process and in general only a small fraction of the gas in a giant
molecular cloud (GMC) is turned into stars. This is partly due to the negative effect of stellar feedback
from young massive star clusters. In a recent paper, we introduced a novel 1D numerical treatment
of the effects of stellar feedback from young massive clusters on their natal clouds, which we named
WARPFIELD. Here, we present version 2 of the WARPFIELD code, containing improved treatments of
the thermal evolution of the gas and the fragmentation of the feedback-driven shell. As part of this
update, we have produced new cooling and heating tables that account for the combined effects of
photoionization and collisional ionization on the cooling rate of the gas, which we now make publically
available. We employ our updated version of WARPFIELD to investigate the impact of stellar feedback
on GMCs with a broad range of masses and surface densities and a variety of density profiles. We show
that the minimum star formation efficiency $\epsilon_{\mathrm{min}}$, i.e. the star formation
efficiency above which the cloud is destroyed by feedback and further star formation is shut off,
is mainly set by the average cloud surface density. A star formation efficiency of 1-6 % is generally
sufficient to destroy a GMC. We also find star formation efficiencies per free-fall time $\epsilon_{\mathrm{ff}}
\sim 0.3$ %, in good agreement with recent observations. Our results imply that stellar feedback
alone is sufficient to explain the low observed star formation efficiencies of GMCs. Finally, we
show that very massive clouds with steep density profiles - possible proxies of the giant clumps
observed in galaxies at $z \approx 2$ - are more resilient to feedback than typical GMCs, with $\epsilon_{\mathrm{min}}$
between 1 and 12 %. 