We present a systematic numerical-relativity study of the dynamical ejecta, winds and nucleosynthesis
in neutron star merger remnants. Binaries with the chirp mass compatible with GW170817, different
mass ratios, and five microphysical equations of state (EOS) are simulated with an approximate
neutrino transport and a subgrid model for magnetohydrodynamics turbulence up to 100 milliseconds
postmerger. Spiral density waves propagating from the neutron star remnant to the disk trigger
a wind with mass flux ${\sim}0.1{-}0.5\,{\rm M_\odot/s}$ persisting for the entire simulation
as long as the remnant does not collapse to black hole. This wind has average electron fraction $\gtrsim
0.3$ and average velocity ${\sim}0.1-0.17\,$c and thus is a site for the production of weak $r$-process
elements (mass number $A<195$). Disks around long-lived remnants have masses ${\sim}0.1{-}0.2\,{\rm
M_\odot}$, temperatures peaking at $\lesssim10\,$MeV near the inner edge, and a characteristic
double-peak distribution in entropy resulting from shocks propagating through the disk. The dynamical
and spiral-wave ejecta computed in our targeted simulations are not compatible with those inferred
from AT2017gfo using two-components kilonova models. Rather, they indicate that multi-component
kilonova models including disk winds are necessary to interpret AT2017gfo. The nucleosynthesis
in the combined dynamical ejecta and spiral-wave wind in the comparable-mass long-lived mergers
robustly accounts for all the $r$-process peaks, from mass number ${\sim}75$ to actinides in terms
of solar abundances. Total abundandes are weakly dependent on the EOS, while the mass ratio affect
the production of first peak elements. 