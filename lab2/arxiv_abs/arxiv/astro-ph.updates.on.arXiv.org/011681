We study the core mass -- halo mass relation of bosonic dark matter halos, in the form of self-gravitating
Bose-Einstein condensates, harbouring a supermassive black hole. We use the ``velocity dispersion
tracing'' relation according to which the velocity dispersion in the core $v_c^2\sim GM_c/R_c$
is of the same order as the velocity dispersion in the halo $v_h^2\sim GM_h/r_h$ (this relation can
be justified from thermodynamical arguments) and the approximate analytical mass-radius relation
of the quantum core in the presence of a central black hole obtained in our previous paper [P.H. Chavanis,
Eur. Phys. J. Plus 134, 352 (2019)]. For a given minimum halo mass $(M_h)_{\rm min}\sim 10^8\, M_{\odot}$
determined by the observations, the only free parameter of our model is the scattering length $a_s$
of the bosons (their mass $m$ is then determined by the characteristics of the minimum halo). For
noninteracting bosons and for bosons with a repulsive self-interaction, we find that the core mass
$M_c$ increases with the halo mass $M_h$ and achieves a maximum value $(M_c)_{\rm max}$ at some halo
mass $(M_h)_{*}$ before decreasing. The whole series of equilibria is stable. For bosons with an
attractive self-interaction, we find that the core mass achieves a maximum value $(M_c)_{\rm max}$
at some halo mass $(M_h)_{*}$ before decreasing. The series of equilibria becomes unstable above
a maximum halo mass $(M_h)_{\rm max}\ge (M_h)_{*}$. In the absence of black hole $(M_h)_{\rm max}=(M_h)_{*}$.
At that point, the quantum core (similar to a dilute axion star) collapses. We perform a similar study
for fermionic dark matter halos. We find that they behave similarly to bosonic dark matter halos
with a repulsive self-interaction, the Pauli principle for fermions playing the role of the repulsive
self-interaction for bosons. 