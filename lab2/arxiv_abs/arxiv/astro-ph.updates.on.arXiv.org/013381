We describe and test a new version of the adaptive mesh refinement (AMR) cosmological code MASCLET.
The new version of the code includes all the ingredients of its previous version plus a description
of the evolution of the magnetic field under the approximation of the ideal magneto-hydrodynamics
(MHD). To preserve the divergence-free condition of MHD, the original divergence cleaning algorithm
of Dedner et al. (2002) is implemented. We present a set of well-known 1D and 2D tests, such as several
shock-tube problems, the fast rotor and the Orszag-Tang vortex. The performance of the code in all
the tests is excellent with estimated median relative errors of $\nabla \cdot {\bf B}$ in the 2D tests
smaller than $5 \times 10^{-5}$ for the fast rotor test, and $5 \times 10^{-3}$ for the Orszag-Tang
vortex. As an astrophysical application of the code, we present a simulation of a cosmological box
of 40 comoving Mpc side length in which a primordial uniform comoving magnetic field of strength
0.1 nG is seeded. The simulation shows how the magnetic field is channelled along the filaments of
gas and is concentrated and amplified within galaxy clusters. Comparison with the values expected
from pure compression reveals an additional amplification of the magnetic field caused by turbulence
in the central region of the cluster. Values of the order of $\sim 1 \mu$G are obtained in clusters
at $z\sim 0$ with median relative errors of $\nabla \cdot {\bf B}$ below 0.4\%. The implications
of a proper description of the dynamics of the magnetic field and their possible observational counterparts
in future facilities are discussed. 