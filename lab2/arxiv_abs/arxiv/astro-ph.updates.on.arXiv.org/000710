We present the COLIBRI code for computing the evolution of stars along the TP-AGB phase. Compared
to purely synthetic TP-AGB codes, COLIBRI relaxes a significant part of their analytic formalism
in favour of a detailed physics applied to a complete envelope model, in which the stellar structure
equations are integrated from the atmosphere down to the bottom of the hydrogen-burning shell.
This allows to predict self-consistently: (i) the effective temperature, and more generally the
convective envelope and atmosphere structures, correctly coupled to the changes in the surface
chemical abundances and gas opacities; (ii) sphericity effects in the atmospheres; (iii) the core
mass-luminosity relation and its break-down due to hot bottom burning (HBB) in the most massive
AGB stars, (iv) the HBB nucleosynthesis via the solution of a complete nuclear network (pp chains,
and the CNO, NeNa, MgAl cycles), including also the production of 7Li via the Cameron-Fowler beryllium
transport mechanism; (v) the chemical composition of the pulse-driven convective zone; (vi) the
onset and quenching of the third dredge-up, with a suitable temperature criterion. At the same time
COLIBRI pioneers new techniques in the treatment of the physics of stellar interiors. It is the first
evolutionary code ever to use accurate on-the-fly computation of the equation of state for roughly
800 atoms, ions, molecules, and of the Rosseland mean opacities throughout the deep envelope. Another
distinguishing aspect of COLIBRI is its high computational speed. This feature is necessary for
calibrating the uncertain parameters and processes that characterize the TP-AGB phase, a step
of paramount importance for producing reliable stellar population synthesis models of galaxies
up to high redshift. (abridged) 