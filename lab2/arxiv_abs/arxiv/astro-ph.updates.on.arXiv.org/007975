We present three transit observations of HD 189733 b obtained with the high-resolution spectrograph
CARMENES at Calar Alto. A strong absorption signal is detected in the near-infrared He I triplet
at 10830 \AA{} in all three transits. During mid-transit, the mean absorption level is $0.88\pm0.04$
% measured in a $\pm$10 km s$^{-1}$ range at a net blueshift of $-3.5\pm0.4$ km s$^{-1}$ (10829.84--10830.57
\AA{}). The absorption signal exhibits radial velocities of $+6.5\pm3.1$ km s$^{-1}$ and $-12.6\pm1.0$
km s$^{-1}$ during ingress and egress, respectively; measured in the planetary rest frame. We show
that stellar activity related pseudo-signals interfere with the planetary atmospheric absorption
signal. They could contribute as much as 80% of the observed signal and might also affect the radial
velocity signature, but pseudo-signals are very unlikely to explain the entire signal. The observed
line ratio between the two unresolved and the third line of the He I triplet is $2.8\pm0.2$, which
strongly deviates from the value expected for an optically thin atmospheres. When interpreted
in terms of absorption in the planetary atmosphere, this favors a compact helium atmosphere with
an extent of only 0.2 planetary radii and a substantial column density on the order of $4\times 10^{12}$
cm$^{-2}$. The observed radial velocities can be understood either in terms of atmospheric circulation
with equatorial superrotation or as a sign of an asymmetric atmospheric component of evaporating
material. We detect no clear signature of ongoing evaporation, like pre- or post-transit absorption,
which could indicate material beyond the planetary Roche lobe, or radial velocities in excess of
the escape velocity. These findings do not contradict planetary evaporation, but only show that
the detected helium absorption in HD 189733 b does not trace the atmospheric layers that show pronounced
escape signatures. 