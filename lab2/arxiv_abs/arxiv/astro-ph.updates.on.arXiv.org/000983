Aims. Observations show nebulae around some massive stars but not around others. If observed, their
chemical composition is far from homogeneous. Our goal is to put these observational features into
the context of the evolution of massive stars and their circumstellar medium (CSM) and, more generally,
to quantify the role of massive stars for the chemical and dynamical evolution of the ISM. Methods.
Using the A-MAZE code, we perform 2d-axisymmetric hydrodynamical simulations of the evolution
of the CSM, shaped by stellar winds, for a whole grid of massive stellar models from 15 to 120 Msun and
following the stellar evolution from the zero-age main-sequence to the time of supernova explosion.
In addition to the usual quantities, we also follow five chemical species: H, He, C, N, and O. Results.
We show how various quantities evolve as a function of time: size of the bubble, position of the wind
termination shock, chemical composition of the bubble, etc. The chemical composition of the bubble
changes considerably compared to the initial composition, particularly during the red-supergiant
(RSG) and Wolf-Rayet (WR) phases. In some extreme cases, the inner region of the bubble can be completely
depleted in hydrogen and nitrogen, and is mainly composed of carbon, helium and oxygen. We argue
why the bubble typically expands at a lower rate than predicted by self-similarity theory. In particular,
the size of the bubble is very sensitive to the density of the ISM, decreasing by a factor of around
2.5 for each additional dex in ISM density. The bubble size also decreases with the metallicity of
the central star, as low-metallicity stars have weaker winds. Our models qualitatively fit the
observations of WR ejecta nebulae. 