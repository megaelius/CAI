Planets with 2 $R_{\oplus}$ < $R$ < 3 $R_{\oplus}$ and orbital period $<$100 d are abundant; these
sub-Neptune exoplanets are not well understood. For example, $Kepler$ sub-Neptunes are likely
to have deep magma oceans in contact with their atmospheres, but little is known about the effect
of the magma on the atmosphere. Here we study this effect using a basic model, assuming that volatiles
equilibrate with magma at $T$ $\sim$ 3000 K. For our Fe-Mg-Si-O-H model system, we find that chemical
reactions between the magma and the atmosphere and dissolution of volatiles into the magma are both
important. Thus, magma matters. For H, most moles go into the magma, so the mass target for both H$_2$
accretion and H$_2$ loss models is weightier than is usually assumed. The known span of magma oxidation
states can produce sub-Neptunes that have identical radius but with total volatile masses varying
by 20-fold. Thus, planet radius is a proxy for atmospheric composition but not for total volatile
content. This redox diversity degeneracy can be broken by measurements of atmosphere mean molecular
weight. We emphasise H$_2$ supply by nebula gas, but also consider solid-derived H$_2$O. We find
that adding H$_2$O to Fe probably cannot make enough H$_2$ to explain sub-Neptune radii because
$>$10$^3$-km thick outgassed atmospheres have high mean molecular weight. The hypothesis of magma-atmosphere
equilibration links observables such as atmosphere H$_2$O/H$_2$ ratio to magma FeO content and
planet formation processes. Our model's accuracy is limited by the lack of experiments (lab and/or
numerical) that are specific to sub-Neptunes; we advocate for such experiments. 