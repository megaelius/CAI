We present the first comprehensive study of r-process element nucleosynthesis in the ejecta of
compact binary mergers (CBMs) and their relic black-hole (BH)-torus systems. The evolution of
the BH-accretion tori is simulated for seconds with a Newtonian hydrodynamics code including viscosity
effects, pseudo-Newtonian gravity for rotating BHs, and an energy-dependent two-moment closure
scheme for the transport of electron neutrinos and antineutrinos. The investigated cases are guided
by relativistic double neutron star (NS-NS) and NS-BH merger models, producing ~3-6 Msun BHs with
rotation parameters of A~0.8 and tori of 0.03-0.3 Msun. Our nucleosynthesis analysis includes
the dynamical (prompt) ejecta expelled during the CBM phase and the neutrino and viscously driven
outflows of the relic BH-torus systems. While typically ~20-25% of the initial accretion-torus
mass are lost by viscously driven outflows, neutrino-powered winds contribute at most another
~1%, but neutrino heating enhances the viscous ejecta significantly. Since BH-torus ejecta possess
a wide distribution of electron fractions (0.1-0.6) and entropies, they produce heavy elements
from A~80 up to the actinides, with relative contributions of A>130 nuclei being subdominant
and sensitively dependent on BH and torus masses and the exact treatment of shear viscosity. The
combined ejecta of CBM and BH-torus phases can reproduce the solar abundances amazingly well for
A>90. Varying contributions of the torus ejecta might account for observed variations of lighter
elements with 40<Z<56 relative to heavier ones, and a considerable reduction of the prompt
ejecta compared to the torus ejecta, e.g. in highly asymmetric NS-BH mergers, might explain the
composition of heavy-element deficient stars. 