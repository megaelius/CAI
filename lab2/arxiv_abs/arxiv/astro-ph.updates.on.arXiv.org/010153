We present the publicly available model \textsc{reltrans} that calculates the light-crossing
delays and energy shifts experienced by X-ray photons originally emitted close to the black hole
when they reflect from the accretion disk and are scattered into our line-of-sight, accounting
for all general relativistic effects. Our model is fast and flexible enough to be simultaneously
fit to the observed energy-dependent cross-spectrum for a large range of Fourier frequencies,
as well as to the time-averaged spectrum. This not only enables better geometric constraints than
only modelling the relativistically broadened reflection features in the time-averaged spectrum,
but additionally enables constraints on the mass of supermassive black holes in active galactic
nuclei and stellar-mass black holes in X-ray binaries. We include a self-consistently calculated
radial profile of the disk ionization parameter and properly account for the effect that the telescope
response has on the predicted time lags. We find that a number of previous spectral analyses have
measured artificially low source heights due to not accounting for the former effect and that timing
analyses have been affected by the latter. In particular, the magnitude of the soft lags in active
galactic nuclei may have been under-estimated, and the magnitude of lags attributed to thermal
reverberation in X-ray binaries may have been over-estimated. We fit \textsc{reltrans} to the
lag-energy spectrum of the Seyfert galaxy Mrk 335, resulting in a best fitting black hole mass that
is smaller than previous optical reverberation measurements ($\sim 7$ million compared with $\sim14-26$
million $M_\odot$). 