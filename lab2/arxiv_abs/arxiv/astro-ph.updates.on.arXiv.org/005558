The measured average velocities in solar and stellar spectral lines formed at transition region
temperatures have been difficult to interpret. However, realistic three-dimensional radiation
magnetohydrodynamics (3D rMHD) models of the solar atmosphere are able to reproduce the observed
dominant line shifts and may thus hold the key to resolve these issues. Our new 3D rMHD simulations
aim to shed light on how mass flows between the chromosphere and corona and on how the coronal mass
is maintained. Passive tracer particles, so-called corks, allow the tracking of parcels of plasma
over time and thus the study of changes in plasma temperature and velocity not only locally, but also
in a co-moving frame. By following the trajectories of the corks, we can investigate mass and energy
flows and understand the composition of the observed velocities. Our findings show that most of
the transition region mass is cooling. The preponderance of transition region redshifts in the
model can be explained by the higher percentage of downflowing mass in the lower and middle transition
region. The average upflows in the upper transition region can be explained by a combination of both
stronger upflows than downflows and a higher percentage of upflowing mass. The most common combination
at lower and middle transition region temperatures are corks that are cooling and traveling downward.
For these corks, a strong correlation between the pressure gradient along the magnetic field line
and the velocity along the magnetic field line has been observed, indicating a formation mechanism
that is related to downward propagating pressure disturbances. Corks at upper transition region
temperatures are subject to a rather slow and highly variable but continuous heating process. 