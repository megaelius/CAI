We present a numerical study of the evolution of molecular clouds, from their formation by converging
flows in the warm ISM, to their destruction by the ionizing feedback of the massive stars they form.
We improve with respect to our previous simulations by including a different stellar-particle
formation algorithm, which allows them to have masses corresponding to single stars rather than
to small clusters, and with a mass distribution following a near-Salpeter stellar IMF. We also employ
a simplified radiative-transfer algorithm that allows the stars to feed back on the medium at a rate
which depends on their mass and the local density. Some of our results are as follows: a) As in previous
studies, the clouds formed begin to gravitationally contract long (several Myr) before star formation
begins, but in turn, star formation begins several Myr before the largest scales terminate their
collapse. b) Contrary to the results from our previous study, where all stellar particles injected
energy at a rate corresponding to a star of 10 Msun, the dense gas is now completely evacuated from
10-pc regions around the stars within 10-20 Myr, suggesting that this feat is accomplished essentially
by the most massive stars. d) At the scale of the whole numerical simulations, the dense gas mass is
reduced by up to an order of magnitude, although star formation (SF) never shuts off completely,
indicating that the feedback terminates SF locally, but triggers new SF events elesewhere, over
distance scales of a few tens of pc. e) The SF efficiency (SFE) is maintained at the ~ 10% level. We speculate
that the inclusion of supernova explosions and magnetic fields should bring the SFE down to the few-percent
level. [abridged] 