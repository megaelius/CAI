We present a semi-empirical model to infer the atomic and molecular hydrogen content of galaxies
as a function of halo mass and time. Our model combines the SFR-halo mass-redshift relation (constrained
by galaxy abundances) with inverted SFR-surface density relations to infer galaxy H I and H2 masses.
We present gas scaling relations, gas fractions, and mass functions from z = 0 to z = 3 and the gas properties
of galaxies as a function of their host halo masses. Predictions of our work include: 1) there is a
~ 0.2 dex decrease in the H I mass of galaxies as a function of their stellar mass since z = 1.5, whereas
the H2 mass of galaxies decreases by > 1 dex over the same period. 2) galaxy cold gas fractions and
H2 fractions decrease with increasing stellar mass and time. Galaxies with M* > 10^10 Msun are
dominated by their stellar content at z < 1, whereas less-massive galaxies only reach these gas
fractions at z = 0. We find the strongest evolution in relative gas content at z < 1.5. 3) the SFR
to gas mass ratio decreases by an order of magnitude from z = 3 to z = 0. This is consistent with lower
H2 fractions; these lower fractions in combination with smaller gas reservoirs correspond to decreased
present-day galaxy SFRs. 4) an H2-based star- formation relation can simultaneously fuel the evolution
of the cosmic star-formation and reproduce the observed weak evolution in the cosmic HI density.
5) galaxies residing in haloes with masses near 10^12 Msun are most efficient at obtaining large
gas reservoirs and forming H2 at all redshifts. These two effects lie at the origin of the high star-formation
efficiencies in haloes with the same mass. 