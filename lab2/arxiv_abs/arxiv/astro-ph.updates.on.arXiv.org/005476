Massive stars play an important role in both cluster and galactic evolution and the rate at which
they lose mass is a key driver of both their own evolution and their interaction with the environment
up to and including their SNe explosions. Young massive clusters provide an ideal opportunity to
study a co-eval population of massive stars. We performed 3mm continuum observations with the Atacama
Large Millimetre/submillimetre Array of the Galactic cluster Westerlund 1, to study the constituent
massive stars and determine mass-loss rates for the diverse post-main sequence population. We
detected emission from 50 stars in Westerlund 1, comprising all 21 Wolf-Rayets within the field
of view, eight cool and 21 OB super-/hypergiants. Emission nebulae were associated with a number
of the cool hypergiants while, unexpectedly, a number of hot stars also appear spatially resolved.
We measured the mass-loss rates for a unique population of massive post-main sequence stars at every
stage of evolution, confirming a significant increase as stars transition from OB supergiant to
WR states. The range of spectral types exhibited provides a critical test of radiatively driven
wind theory and the reality of the bi-stability jump. The extreme mass-loss rate inferred for the
interacting binary Wd1-9 in comparison to other cluster members confirmed the key role binarity
plays in massive stellar evolution. The presence of compact nebulae around a number of OB and WR stars
is unexpected; by analogy to the cool super-/hypergiants we attribute this to confinement and sculpting
of the stellar wind via interaction with the intra-cluster medium/wind. Given the morphology of
core collapse SNe depend on the nature of the pre-explosion circumstellar environment, if this
hypothesis is correct then the properties of the explosion depend not just on the progenitor, but
also the environment in which it is located. 