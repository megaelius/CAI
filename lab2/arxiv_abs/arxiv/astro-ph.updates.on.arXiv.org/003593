In this paper, we propose to estimate the spatial curvature of the universe and the cosmic opacity
in a model-independent way with expansion rate measurements, $H(z)$, and type Ia supernova (SNe
Ia). On the one hand, using a nonparametric smoothing method Gaussian process, we reconstruct a
function $H(z)$ from opacity-free expansion rate measurements. Then, we integrate the $H(z)$
to obtain distance modulus $\mu_{\rm H}$, which is dependent on the cosmic curvature. On the other
hand, distances of SNe Ia can be determined by their photometric observations and thus are opacity-dependent.
In our analysis, by confronting distance moduli $\mu_{\rm H}$ with those obtained from SNe Ia, we
achieve estimations for both the spatial curvature and the cosmic opacity without any assumptions
for the cosmological model. Here, it should be noted that light curve fitting parameters, accounting
for the distance estimation of SNe Ia, are determined in a global fit together with the cosmic opacity
and spatial curvature to get rid of the dependence of these parameters on cosmology. In addition,
we also investigate whether the inclusion of different priors for the present expansion rate ($H_0$:
global estimation, $67.74\pm 0.46~\rm km~ s^{-1} ~Mpc^{-1}$, and local measurement, $73.24\pm
1.74~\rm km~ s^{-1} ~Mpc^{-1}$) exert influence on the reconstructed $H(z)$ and the following
estimations of the spatial curvature and cosmic opacity. Results show that, in general, a spatially
flat and transparent universe is preferred by the observations. Moreover, it is suggested that
priors for $H_0$ matter a lot. Finally, we find that there is a strong degeneracy between the curvature
and the opacity. 