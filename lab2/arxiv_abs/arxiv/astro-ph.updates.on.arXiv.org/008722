Giant planets migrate though the protoplanetary disc as they grow. We investigate how the formation
of planetary systems depends on the radial flux of pebbles through the protoplanetary disc and on
the planet migration rate. Our N-body simulations confirm previous findings that Jupiter-like
planets in orbits outside the water ice line originate from embryos starting out at 20-40 AU when
using nominal type-I and type-II migration rates and a pebble flux of 100-200 Earth masses per million
years, enough to grow Jupiter within the lifetime of the solar nebula. The planetary embryos placed
up to 30AU migrate into the inner system (r<1AU) and form super-Earths or hot and warm gas giants,
producing systems that are inconsistent with the configuration of the solar system, but consistent
with some exoplanetary systems. We also explore slower migration rates which allow the formation
of gas giants from embryos originating from the 5-10AU region, which are stranded exterior to 1 AU
at the end of the gas-disc phase. We identify a pebble flux threshold below which migration dominates
and moves the planetary core to the inner disc, where the pebble isolation mass is too low for the planet
to accrete gas efficiently. Giant planet growth requires a sufficiently-high pebble flux to enable
growth to out-compete migration. Even higher pebble fluxes produce systems with multiple gas giants.
We show that planetary embryos starting interior to 5AU do not grow into gas giants, even if migration
is slow and the pebble flux is large. Instead they grow to the mass regime of super-Earths. This stunted
growth is caused by the low pebble isolation mass in the inner disc and is independent of the pebble
flux. Additionally we show that the long term evolution of our formed planetary systems can produce
systems with hot super-Earths and outer gas giants as well as systems of giants on eccentric orbits
(abridged). 