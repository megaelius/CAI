If the weak equivalence principle (WEP) is broken, the measured values of the parametrized post-Newtonian
parameter $\gamma$ from photons with left- and right-handed circular polarizations should differ
slightly, leading to the arrival-time difference of these two circular components. Thus, the polarization
vector of a linearly polarized light may rotate during the propagation. The rotation angle of the
polarization vector depends on both the photon energy and the distance of the source. It is believed
that if the rotation angle differs by more than $\pi/2$ over an energy range, then the net polarization
of the signal would be significantly suppressed and could not be as high as the observed level. Thus,
the detection of highly polarized photons implies that the relative rotation angle ($\Delta\Theta$)
should not be too large. In this paper, we give a detailed calculation on the evolution of gamma-ray
burst (GRB) polarization arising from a possible violation of the WEP, and we find that more than
$60\%$ of the initial polarization degree can be conserved even if $\Delta\Theta$ is larger than
$\pi/2$. In addition, to tightly constrain the WEP violation, GRBs with harder spectra and polarization
observations in a wider energy range seem to be favored. Applying our formulas to the measurements
of linear polarization from GRB 110721A and GRB 061122, we obtain strict limits on the differences
of the $\gamma$ values as low as $\Delta\gamma<1.3\times10^{-33}$ and $\Delta\gamma<0.8\times10^{-33}$.
These provide the most stringent limits to date on a deviation from the WEP, improving at least 6 orders
of magnitude over previous bounds. 