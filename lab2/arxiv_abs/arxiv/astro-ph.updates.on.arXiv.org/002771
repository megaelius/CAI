We combine photometry from the UDS, and CANDELS UDS and CANDELS GOODS-S surveys to construct the
galaxy stellar mass function probing both the low and high mass end accurately in the redshift range
0.3<z<3. The advantages of using a homogeneous concatenation of these datasets include
meaningful measures of environment in the UDS, due to its large area (0.88 deg^2), and the high resolution
deep imaging in CANDELS (H_160 > 26.0), affording us robust measures of structural parameters.
We construct stellar mass functions for the entire sample as parameterised by the Schechter function,
and find that there is a decline in the values of phi and of alpha with higher redshifts, and a nearly
constant M* up to z~3. We divide the galaxy stellar mass function by colour, structure, and environment
and explore the links between environmental over-density, morphology, and the quenching of star
formation. We find that a double Schechter function describes galaxies with high Sersic index (n>2.5),
similar to galaxies which are red or passive. The low-mass end of the n>2.5 stellar mass function
is dominated by blue galaxies, whereas the high-mass end is dominated by red galaxies. This hints
that possible links between morphological evolution and star formation quenching are only present
in high-mass galaxies. This is turn suggests that there are strong mass dependent quenching mechanisms.
In addition, we find that the number density of high mass systems is elevated in dense environments,
suggesting that an environmental process is building up massive galaxies quicker in over densities
than in lower densities. 