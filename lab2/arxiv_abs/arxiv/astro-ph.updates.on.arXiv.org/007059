We study the connection between active galactic nuclei (AGN) and their host galaxies through cosmic
time in the large-scale cosmological IllustrisTNG simulations. We first compare BH properties,
i.e. the hard X-ray BH luminosity function, AGN galaxy occupation fraction, and distribution of
Eddington ratios, to available observational constraints. The simulations produce a population
of BHs in good agreement with observations, but we note an excess of faint AGN in hard X-ray (L_x ~ 10^{43-44}
erg/s), and a lower number of bright AGN (L_x>10^{44} erg/s), a conclusion that varies quantitatively
but not qualitatively with BH luminosity estimation method. The lower Eddington ratios of the 10^{9}
Msun BHs compared to observations suggest that AGN feedback may be too efficient in this regime.
We study galaxy star formation activity and structural properties, and design sample-dependent
criteria to identify different galaxy types (star-forming/quiescent, extended/compact) that
we apply both to the simulations and observations from the candels fields. We analyze how the simulated
and observed galaxies populate the specific star formation rate - stellar mass surface density
diagram. A large fraction of the z=0 M_{star}>10^{11} Msun quiescent galaxies first experienced
a compaction phase (i.e. reduction of galaxy size) while still forming stars, and then a quenching
event. We measure the dependence of AGN fraction on galaxies' locations in this diagram. After correcting
the simulations with a redshift and AGN luminosity-dependent model for AGN obscuration, we find
good qualitative and quantitative agreement with observations. The AGN fraction is the highest
among compact star-forming galaxies (16-20% at z~1.5-2), and the lowest among compact quiescent
galaxies (6-10% at z~1.5-2). 