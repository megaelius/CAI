We find the distribution function (DF) f(E) for dark matter (DM) halos in galaxies and the corresponding
equation of state from the observed DM halo density profiles. We solve for DM in galaxies the analogous
of the Eddington equation used for the gas of stars in globular clusters. The observed density profiles
are a good realistic starting point and the DF's derived from them are realistic. We do not make any
assumption about the DM nature, the methods developed here apply to any DM kind, though all results
are consistent with Warm DM (WDM). Cored density profiles behaving quadratically for small distances
rho(r->0) = rho(0)-K r^2 produce DF's which are finite and positive at the halo center while cusped
density profiles always produce divergent DF's at the center. Cored density profiles produce thermal
Boltzmann DF's functions for r < 3 r_h where r_h is the halo radius.Analytic expressions for the
dispersion velocity and the pressure are derived yielding at each halo point an ideal DM gas equation
of state with local temperature T(r) = m v^2(r)/3. T(r) turns to be constant in the same region where
the DF is thermal. The DM halo can be consistently considered at local thermal equilibrium with:
(i) a constant temperature for r < 3 r_h, (ii) a space dependent temperature T(r) for 3 r_h <
r < R_{virial}, which slowly decreases with r. That is, the DM halo is realistically a self-gravitating
thermal gas for r < R_{virial}. T(r) outside the halo radius nicely follows the decrease of the
circular velocity squared. When observational data on density profiles of smaller (dwarf) galaxies
will become available, the analytic framework provided here will allow to find the phase--space
DF f(E) for such compact galaxies (abridged). 