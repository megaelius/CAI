Dust grains forming in the extended atmospheres of AGB stars are critical for the heavy mass loss
of these cool luminous giants, as they provide radiative acceleration for the stellar winds. Characteristic
mid-IR spectral features indicate that the grains consist mainly of silicates and corundum. The
latter species seems to form in a narrow zone within about 2 stellar radii, preceding the condensation
of silicate dust, which triggers the outflow. Recent high-angular-resolution observations show
clumpy, variable dust clouds at these distances. We explore possible causes for the formation of
inhomogeneous dust layers, using 3D dynamical simulations. We modeled the outer convective envelope
and the dust-forming atmosphere of an M-type AGB star with the CO5BOLD radiation-hydrodynamics
code. The simulations account for frequency-dependent gas opacities, and include a time-dependent
description of grain growth and evaporation for corundum and olivine-type silicates. In the inner,
gravitationally bound, and corundum-dominated layers of the circumstellar envelope, a patchy
distribution of the dust emerges naturally, due to atmospheric shock waves that are generated by
large-scale convective flows and pulsations. The formation of silicate dust at somewhat larger
distances probably indicates the outer limit of the gravitationally bound layers. The current
models do not describe wind acceleration, but the cloud formation mechanism should also work for
stars with outflows. Timescales of atmospheric dynamics and grain growth are similar to observed
values. In spherical averages of dust densities the variable 3D morphology manifests itself as
cycle-to-cycle variations. Grain growth in the wake of large-scale non-spherical shock waves,
generated by convection and pulsations, is a likely mechanism for producing the observed clumpy
dust clouds, and for explaining their physical and dynamical properties. 