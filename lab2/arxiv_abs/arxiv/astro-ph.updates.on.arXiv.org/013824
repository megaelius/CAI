In order to obtain a complete census of the stellar and sub-stellar population, down to a few M$_{Jup}$
in the $\sim1$ Myr old Orion Nebula Cluster, we used the infrared channel of the Wide Field Camera
3 of the Hubble Space Telescope with the F139M and F130N filters. These bandpasses correspond to
the $1.4 \mu$m H$_2$O absorption feature and an adjacent line-free continuum region. Out of $4,504$
detected sources, $3,352$ (about $75\%$) appear fainter than m$_{130}=14$ (Vega mag) in the F130N
filter, a brightness corresponding to the hydrogen-burning limit mass (M$\simeq 0.072 M_\odot$)
at $\sim 1$ Myr. Of these, however, only $742$ sources have a negative F130M-139N color index, indicative
of the presence of H$_2$O vapor in absorption, and can therefore be classified as bona-fide M and
L dwarfs, with effective temperatures T$\lesssim 2850$ K at an assumed $1$ Myr cluster age. On our
color-magnitude diagram, this population of sources with H$_2$O absorption appears clearly distinct
from the larger background population of highly reddened stars and galaxies with positive F130M-F139N
color index, and can be traced down to the sensitivity limit of our survey, m$_{130}\simeq 21.5$,
corresponding to a $1$ Myr old $\simeq 3 $M$_{Jup}$, planetary mass object under about 2 magnitudes
of visual extinction. Theoretical models of the BT-Settl family predicting substellar isochrones
of $1, 2$ and $3$ Myr (down to $\sim 1 $M$_{Jup}$) fail to reproduce the observed H$_2$O color index
at M$\lesssim 20 $M$_{Jup}$. We perform a Bayesian analysis to determine extinction, mass and effective
temperature of each sub-stellar member of our sample, together with its membership probability.
