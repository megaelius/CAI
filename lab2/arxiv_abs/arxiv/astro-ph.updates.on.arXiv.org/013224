Current designs for all three extremely large telescopes show the overwhelming adoption of the
pyramid wavefront sensor (P-WFS) as the WFS of choice for adaptive optics (AO) systems sensing on
natural guide stars (NGS) or extended objects. The key advantages of the P-WFS over the Shack-Hartmann
are known and are mainly provided by the improved sensitivity (fainter NGS) and reduced sensitivity
to spatial aliasing. However, robustness and tolerances of the P-WFS for the ELTs are not currently
well understood. In this paper, we present simulation results for the single-conjugate AO mode
of HARMONI, a visible and near-infrared integral field spectrograph for the European Extremely
Large Telescope. We first explore the wavefront sensing issues related to the telescope itself;
namely the island effect (i.e. differential piston) and M1 segments phasing errors. We present
mitigation strategies to the island effect and their performance. We then focus on some performance
optimisation aspects of the AO design to explore the impact of the RTC latency and the optical gain
issues, which will in particular affect the high-contrast mode of HARMONI. Finally, we investigate
the influence of the quality of glass pyramid prism itself, and of optical aberrations on the final
AO performance. By relaxing the tolerances on the fabrication of the prism, we are able to reduce
hardware costs and simplify integration. We show the importance of calibration (i.e. updating
the control matrix) to capture any displacement of the telescope pupil and rotation of the support
structure for M4. We also show the importance of the number of pixels used for wavefront sensing to
relax tolerances of the pyramid prism. Finally, we present a detailed optical design of the pyramid
prism, central element of the P-WFS. 