The Calar Alto Fiber-fed \'Echelle spectrograph (CAFE) is a high-resolution spectrographs with
high-precision radial velocity capabilities mounted in the 2.2m telescope of Calar Alto Observatory.
It suffered from strong degradation after 4 years of operations and it has now been upgraded. The
upgrades of the instrument (now named CAFE$_2$) aimed at improving the throughput and stability
thanks to the inclusion of a new grating, an active temperature control in the isolated coud\'e room,
and a new scrambling system among other minor changes. In this paper, we present the results of the
re-commissioning of the instrument and a new pipeline (CAFExtractor) that provides the user with
fully reduced data including radial velocity measurements of FGK dwarf stars. We have monitored
the upgraded instrument for several months to characterize its main properties and test the new
pipeline. It uses part of the CERES code, improves the wavelength calibration and radial velocity
extraction (using the HARPS masks adapted), applies nightly drift corrections. The finally reduced
spectra are presented in FITS files. The commissioning results show a clear improvement in the instrument
performance with respect to the degraded status before the intervention. The room temperature
is now stabilized down to 5 mK during one night and below 50 mK over two months. CAFE$_2$ now provides
3 m/s precision on the reference ThAr frames and the on-sky tests provide a radial velocity precision
of 8 m/s during one night (for S/N>50). The throughput of the instrument is now back to nominal values
with an efficiency of around 15% at 550 nm. The limiting magnitude of the instrument for a 1h exposure
and S/N=20 is V=15. With all these properties, CAFE$_2$ enters into the small family of high-resolution
spectrographs mounted on 2-4 meter-class telescopes capable of reaching radial velocity precisions
below 10 m/s. 