We study models of compact jets in the hard state of black-hole binaries. Their typical radio spectra
are flat, with the spectral energy index of alpha ~0, which appear to be due to superposition of partially
self-absorbed synchrotron spectra emitted by relativistic power-law electrons with the shape
of their distribution maintained over the length of the jet. This requires a constant dissipation
rate per unit logarithmic jet length. We study a model in which we self-consistently solve for both
the steady-state electron distribution and the emitted spectrum in both the self-absorbed and
optically-thin parts as functions of the height along the jet. We take into account synchrotron
emission and absorption, Compton scattering of synchrotron, stellar and accretion-flow photons,
adiabatic losses, and absorption of very-high energy gamma-rays by pair production on stellar
photons. We find Compton upscattering of blackbody stellar radiation in high-mass X-ray binaries
to be a major contributor to their gamma-ray emission. Then measurements and/or upper limits on
that emission impose strong constraints on the jet parameters, in particular on their magnetic
field. We apply our model to the hard state of Cyg X-1, and find it accounts well for its radio/IR spectrum
as well as it can account for its observed GeV-range flux. The model can also account for the MeV-range
emission as synchrotron radiation, as implied by recent claims of strong linear polarization in
that regime, but only for very strong magnetic fields, which are required in that case to satisfy
the GeV-range data, and very hard electron acceleration. 