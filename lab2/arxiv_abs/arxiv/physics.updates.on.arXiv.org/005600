Density matrix embedding theory (DMET) is a powerful quantum embedding method for solving strongly
correlated quantum systems. Theoretically, the performance of a quantum embedding method should
be limited by the computational cost of the impurity solver. However, the practical performance
of DMET is often hindered by the numerical stability and the computational time of the correlation
potential fitting procedure, which is defined on a single-particle level. Of particular difficulty
are cases in which the effective single-particle system is gapless or nearly gapless. To alleviate
these issues, we develop a semidefinite programming (SDP) based approach that can significantly
enhance the robustness of the correlation potential fitting procedure compared to the traditional
least squares fitting approach. We also develop a local correlation potential fitting approach,
which allows one to identify the correlation potential from each fragment independently in each
self-consistent field iteration, avoiding any optimization at the global level. We prove that
the self-consistent solutions of DMET using this local correlation potential fitting procedure
are equivalent to those of the original DMET with global fitting. We find that our combined approach,
called L-DMET, in which we solve local fitting problems via semidefinite programming, can significantly
improve both the robustness and the efficiency of DMET calculations. We demonstrate the performance
of L-DMET on the 2D Hubbard model and the hydrogen chain. We also demonstrate with theoretical and
numerical evidence that the use of a large fragment size can be a fundamental source of numerical
instability in the DMET procedure. 