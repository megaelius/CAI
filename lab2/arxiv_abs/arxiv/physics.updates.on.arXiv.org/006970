We report on the study of student difficulties regarding heat engine in the context of Stirling cycle
within upper-division undergraduate thermal physics course. An in-class test about a Stirling
engine with a regenerator was taken by three classes, and the students were asked to perform one of
the most basic activities---calculate the efficiency of the heat engine. Our data suggest that
quite a few students have not developed a robust conceptual understanding of basic engineering
knowledge of the heat engine, including the function of the regenerator and the influence of piston
movements on the heat and work involved in the engine. Most notably, although the science error ratios
of the three classes were similar ($\sim$10\%), the engineering error ratios of the three classes
were high (above 50\%), and the class that was given a simple tutorial of engineering knowledge of
heat engine exhibited significantly smaller engineering error ratio by about 20\% than the other
two classes. In addition, both the written answers and post-test interviews show that most of the
students can only associate Carnot's theorem with Carnot cycle, but not with other reversible cycles
working between two heat reservoirs, probably because no enough cycles except Carnot cycle were
covered in the traditional Thermodynamics textbook. Our results suggest that both scientific
and engineering knowledge are important and should be included in instructional approaches, especially
in the Thermodynamics course taught in the countries and regions with a tradition of not paying much
attention to experimental education or engineering training. 