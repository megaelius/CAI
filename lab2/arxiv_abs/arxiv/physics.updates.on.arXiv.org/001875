How to prevent the spread of human diseases is a great challenge for the scientific community and
so far there are many studies in which immunization strategies have been developed. However, these
kind of strategies usually do not consider that medical institutes may have limited vaccine resources
available. In this manuscript, we explore the Susceptible-Infected-Recovered (SIR) model with
local dynamic vaccination, and considering limited vaccines. In this model, susceptibles in contact
with an infected individual, are vaccinated -with probability $\omega$- and then getting infected
-with probability $\beta$. However, when the fraction of immunized individuals reaches a threshold
$V_L$, the vaccination stops, after which only the infection is possible. In the steady state, besides
the critical points $\beta_c$ and $\omega_c$ that separate a non-epidemic from an epidemic phase,
we find for a range of $V_L$ another transition points, $\beta^*>\beta_c$ and $\omega^*<\omega_c$,
which correspond to a novel discontinuous phase transition. This critical value separates a phase
where the amount of vaccines is sufficient, from a phase where the disease is strong enough to exhaust
all the vaccination units. For a disease with fixed $\beta$, the vaccination probability $\omega$
can be controlled in order to drastically reduce the number of infected individuals, using efficiently
the available vaccines. Furthermore, the temporal evolution of the system close to $\beta^*$ or
$\omega^*$, shows that after a peak of infection the system enters into a quasi-stationary state,
with only a few infected cases. But if there are no more vaccines, these few infected individuals
could originate a second outbreak, represented by a second peak of infection. This state of apparent
calm, could be dangerous since it may lead to misleading conclusions and to an abandon of the strategies
to control the disease. 