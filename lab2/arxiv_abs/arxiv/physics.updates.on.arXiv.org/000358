We develop a theoretical model of triply-resonant optical parametric oscillators (OPOs) based
on degenerate four-wave mixing (FWM) that includes physics and degrees of freedom relevant to microphotonic
(on-chip) device implementations, including nonlinear loss, a general resonant mode field structure,
and mode-selective coupling to external ports. The coupled mode theory model addresses the effect
of two-photon absorption and free-carrier absorption on parametric gain and oscillation thresholds,
and ultimately on the optimum design for an OPO. The model goes beyond a typical free-space cavity
configuration by incorporating a full modal analysis that admits distributed modes with non-uniform
field distribution, relevant to photonic microcavity systems on chip. This leads to a generalization
of the concept of nonlinear figure of merit (NFOM) to a vector of coefficients. In addition, by considering
unconstrained signal, pump and idler resonance coupling strengths to excitation ports, not usually
available in simple cavity geometry, we show that the efficiency-maximizing design will have unequal
external Q for the three resonances. We arrive at generalized formulas for OPO oscillation threshold
that include nonlinear absorption and free carrier lifetime, and provide a normalized solution
to the design problem in the presence of nonlinear loss in terms of optimum choice of coupling. Based
on the results, we suggest a family of coupled-cavity systems to implement optimum FWM, where control
of resonant wavelengths can be separated from optimizing nonlinear conversion efficiency, and
where furthermore pump, signal, and idler coupling to bus waveguides can be controlled independently,
using interferometric cavity supermode coupling as an example. Using the generalized NFOM, we
address the efficiency of single and multi-cavity geometry, as well as standing and traveling wave
excitation. 