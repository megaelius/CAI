Koopman decomposition is a non-linear generalization of eigen decomposition, and is being increasingly
utilized in the analysis of spatio-temporal dynamics. Well-known techniques such as the dynamic
mode decomposition (DMD) and its variants provide approximations to the Koopman operator, and
have been applied extensively in many fluid dynamic problems. Despite being endowed with a richer
dictionary of nonlinear observables, nonlinear variants of the DMD, such as extended/kernel dynamic
mode decomposition (EDMD/KDMD) are seldom applied to large-scale problems primarily due to the
difficulty of discerning the Koopman invariant subspace from thousands of resulting Koopman triplets:
eigenvalues, eigenvectors, and modes. To address this issue, we revisit the formulation of EDMD
and KDMD, and propose an algorithm based on multi-task feature learning to extract the most informative
Koopman invariant subspace by removing redundant and spurious Koopman triplets. These algorithms
can be viewed as sparsity promoting extensions of EDMD/KDMD and are presented in an open-source
package. Further, we extend KDMD to a continuous-time setting and show a relationship between the
present algorithm, sparsity-promoting DMD and an empirical criterion from the viewpoint of non-convex
optimization. The effectiveness of our algorithm is demonstrated on examples ranging from simple
dynamical systems to two-dimensional cylinder wake flows at different Reynolds numbers and a three-dimensional
turbulent ship air-wake flow. The latter two problems are designed such that very strong nonlinear
transients are present in the flow evolution, thus requiring accurate approximation of the Koopman
operator. Underlying physical mechanisms are analyzed and the results are compared to existing
theoretical expositions and numerical approximations. 