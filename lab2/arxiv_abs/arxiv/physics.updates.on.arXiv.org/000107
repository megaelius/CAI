The semi-analytical wall boundary conditions present a mathematically rigorous framework to
prescribe the influence of solid walls in SPH for fluid flows. In this paper they are investigated
with respect to the skew-adjoint property which implies exact energy conservation. It will be shown
that this property holds only in the limit of the continuous SPH approximation, whereas in the discrete
SPH formulation it is only approximately true, leading to numerical noise. This noise, interpreted
as form of "turbulence", is treated using an additional volume diffusion term in the continuity
equation which we show is equivalent to an approximate Riemann solver. Subsequently two extensions
to the boundary conditions are presented. The first dealing with a variable driving force when imposing
a volume flux in a periodic flow and the second showing a generalization of the wall boundary condition
to Robin type and arbitrary-order interpolation. Two modifications for free-surface flows are
presented for the volume diffusion term as well as the wall boundary condition. In order to validate
the theoretical constructs numerical experiments are performed showing that the present volume
flux term yields results with an error 5 orders of magnitude smaller then previous methods while
the Robin boundary conditions are imposed correctly with an error depending on the order of the approximation.
Furthermore, the proposed modifications for free-surface flows improve the behaviour at the intersection
of free surface and wall as well as prevent free-surface detachment when using the volume diffusion
term. Finally, this paper is concluded by a simulation of a dam break over a wedge demonstrating the
improvements proposed in this paper. 