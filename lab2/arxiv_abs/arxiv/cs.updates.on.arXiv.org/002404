In this paper, downlink delivery of popular content is optimized with the assistance of wireless
cache nodes. Specifically, the requests of one file is modeled as a Poisson point process with finite
lifetime, and two downlink transmission modes are considered: (1) the base station multicasts
file segments to the requesting users and selected cache nodes; (2) the base station proactively
multicasts file segments to the selected cache nodes without requests from users. Hence the cache
nodes with decoded files can help to offload the traffic upon the next file request via other air interfaces,
e.g. WiFi. Without proactive caching placement, we formulate the downlink traffic offloading
as a Markov decision process with random number of stages, and propose a revised Bellman's equation
to obtain the optimal control policy. In order to address the prohibitively huge state space, we
also introduce a low-complexity sub-optimal solution based on linear approximation of the value
functions, where the gap between the approximated value functions and the real ones is bounded analytically.
The approximated value functions can be calculated from analytical expressions given the spatial
distribution of requesting users. Moreover, we propose a learning-based algorithm to evaluate
the approximated value functions for unknown distribution of requesting users. Finally, a proactive
caching placement algorithm is introduced to exploit the temporal diversity of shadowing effect.
It is shown by simulation that the proposed low-complexity algorithm based on approximated value
functions can significantly reduce the resource consumption at the base station, and the proactive
caching placement can further improve the performance. 