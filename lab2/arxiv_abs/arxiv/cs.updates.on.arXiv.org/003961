Retinal fundus photographs have been used in the diagnosis of many ocular diseases such as glaucoma,
pathological myopia, age-related macular degeneration and diabetic retinopathy. With the development
of computer science, computer aided diagnosis has been developed to process and analyse the retinal
images automatically. One of the challenges in the analysis is that the quality of the retinal image
is often degraded. For example, a cataract in human lens will attenuate the retinal image, just as
a cloudy camera lens which reduces the quality of a photograph. It often obscures the details in the
retinal images and posts challenges in retinal image processing and analysing tasks. In this paper,
we approximate the degradation of the retinal images as a combination of human-lens attenuation
and scattering. A novel structure-preserving guided retinal image filtering (SGRIF) is then proposed
to restore images based on the attenuation and scattering model. The proposed SGRIF consists of
a step of global structure transferring and a step of global edge-preserving smoothing. Our results
show that the proposed SGRIF method is able to improve the contrast of retinal images, measured by
histogram flatness measure, histogram spread and variability of local luminosity. In addition,
we further explored the benefits of SGRIF for subsequent retinal image processing and analysing
tasks. In the two applications of deep learning based optic cup segmentation and sparse learning
based cup-to-disc ratio (CDR) computation, our results show that we are able to achieve more accurate
optic cup segmentation and CDR measurements from images processed by SGRIF. 