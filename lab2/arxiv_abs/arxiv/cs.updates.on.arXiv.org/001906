Consider the following probabilistic process on a graph $G=(V,E)$. After initially labeling each
vertex $v$ by a real number, say randomly chosen in $\pm 1$, we repeatedly pick a random edge and replace
the values of its endpoints by their average. Suppose the process is run on a graph exhibiting a community
structure, such as two expanders joined by a sparse cut: {\em is there a phase of the process, in which
its state reflects the underlying community structure? Moreover, can nodes learn that structure
via a local procedure?} We answer the first question in the affirmative for a class of regular clustered
graphs. Addressing the question above (in this restricted class as well) requires studying the
concentration of the averaging process around its expectation. In turn, this calls for a deeper
understanding of concentration properties of the product of certain random matrices around its
expectation. These properties (albeit in different flavors) emerge both in the regime in which
the sparsity of the cut is $o(1/\log |V|)$ (with constant expansion within each community), and
when the sparsity is constant. The analysis in the latter regime is the technically hardest part
of this work, because we have to establish concentration results up to inverse polynomial errors.
As for the second question, since nodes do not share a common clock, it is not immediate to translate
the above results into distributed clustering protocols. To this purpose, we show that concentration
holds over a long time window and most nodes are able to select a local time within this window. This
results in the first asynchronous distributed algorithms that require logarithmic or polylogarithmic
work per node (depending on the sparsity of the cut) and that approximately recover community structure.
