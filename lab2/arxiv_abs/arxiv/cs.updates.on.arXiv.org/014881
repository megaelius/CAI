User marketing is a key focus of consumer-based internet companies. Learning algorithms are effective
to optimize marketing campaigns which increase user engagement, and facilitates cross-marketing
to related products. By attracting users with rewards, marketing methods are effective to boost
user activity in the desired products. Rewards incur significant cost that can be off-set by increase
in future revenue. Most methodologies rely on churn predictions to prevent losing users to make
marketing decisions, which cannot capture up-lift across counterfactual outcomes with business
metrics. Other predictive models are capable of estimating heterogeneous treatment effects,
but fail to capture the balance of cost versus benefit. We propose a treatment effect optimization
methodology for user marketing. This algorithm learns from past experiments and utilizes novel
optimization methods to optimize cost efficiency with respect to user selection. The method optimizes
decisions using deep learning optimization models to treat and reward users, which is effective
in producing cost-effective, impactful marketing campaigns. Our methodology demonstrates superior
algorithmic flexibility with integration with deep learning methods and dealing with business
constraints. The effectiveness of our model surpasses the quasi-oracle estimation (R-learner)
model and causal forests. We also established evaluation metrics that reflect the cost-efficiency
and real-world business value. Our proposed constrained and direct optimization algorithms outperform
by 24.6% compared with the best performing method in prior art and baseline methods. The methodology
is useful in many product scenarios such as optimal treatment allocation and it has been deployed
in production world-wide. 