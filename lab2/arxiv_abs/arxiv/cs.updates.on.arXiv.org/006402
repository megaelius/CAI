The fast-paced evolution of Android APIs has posed a challenging task for Android app developers.
To leverage the newly and frequently released APIs from Android, developers often must spend considerable
effort on API migrations. Prior research work and Android official documentation typically provide
enough information to guide developers in identifying both the changed API calls that need to be
migrated and the corresponding API calls in the new version of Android (what to migrate). However,
the API migration task is still challenging since developers lack the knowledge of how to migrate
the API calls. In addition to the official documentation, there exist code examples, such as Google
Samples, that illustrate the usage of APIs. We posit that by analyzing the changes of API usage in
code examples, we may be able to learn API migration patterns to assist developers with API migrations.
In this paper, we propose an approach that automatically learns API migration patterns from code
examples and applies these patterns to the source code of Android apps for API migration. To evaluate
our approach, we migrate API calls in open source Android apps by learning API migration patterns
from both public and manually generated code examples. We find that our approach can successfully
learn API migration patterns and provide API migration assistance in 71 out of 80 cases. In particular,
our approach can either automatically migrate API calls with little to no extra modifications needed
or provide guidance to assist with the migrations. Our approach can be adopted by Android developers
to reduce the effort they spend on regularly migrating Android APIs. 