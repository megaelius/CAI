We address the problem of optimizing the performance of a dynamic system while satisfying hard safety
constraints at all times. Implementing an optimal control solution is limited by the computational
cost required to derive it in real time, especially when constraints become active, as well as the
need to rely on simple linear dynamics, simple objective functions, and ignoring noise. The recently
proposed Control Barrier Function (CBF) method may be used for safety-critical control at the expense
of sub-optimal performance. In this paper, we develop a real-time control framework that combines
optimal trajectories generated through optimal control with the computationally efficient CBF
method providing safety guarantees. We use Hamiltonian analysis to obtain a tractable optimal
solution for a linear or linearized system, then employ High Order CBFs (HOCBFs) and Control Lyapunov
Functions (CLFs) to account for constraints with arbitrary relative degrees and to track the optimal
state, respectively. We further show how to deal with noise in arbitrary relative degree systems.
The proposed framework is then applied to the optimal traffic merging problem for Connected and
Automated Vehicles (CAVs) where the objective is to jointly minimize the travel time and energy
consumption of each CAV subject to speed, acceleration, and speed-dependent safety constraints.
In addition, when considering more complex objective functions, nonlinear dynamics and passenger
comfort requirements for which analytical optimal control solutions are unavailable, we adapt
the HOCBF method to such problems. Simulation examples are included to compare the performance
of the proposed framework to optimal solutions (when available) and to a baseline provided by human-driven
vehicles with results showing significant improvements in all metrics. 