We investigate regular matching problems with respect to substitutions. The classical reference
is Conway's 1971 textbook "Regular algebra and finite machines". In Chapt. 6, Conway developed
a factorization calculus for regular languages. He studied the problem "$\exists\sigma:\sigma(L)\subseteq
R$?" where $L\subseteq(\Sigma\cup X)^*$ and $R\subseteq \Sigma^*$ are regular languages, $\Sigma$
is a set of constants, and $X$ is a set of variables. He showed that there are finitely many maximal
solutions which are effectively computable, that every solution is included in a maximal one, and
that $\sigma(x)$ is regular for all $x\in X$. We generalize this type of results to infinite trees.
We define a notion of choice function $\gamma$ which for any tree $s$ over $\Sigma\cup X$ and position
$u$ labeled by variable $x\in X$ selects at most one tree $\gamma(u)$ in $\sigma(x)$. In this way
we define $\gamma_\infty(s)$ as the limit of a Cauchy sequence; and the union over all these $\gamma_\infty(s)$
leads to a natural notion of $\sigma(s)$. Since our definition coincides with the classical IO substitutions,
we write $\sigma_{io}(L)$ instead of $\sigma(L)$. By using choice functions, we obtain a smooth
generalization of Conway's results for infinite trees. This includes the decidability of "$\exists\sigma:\sigma_{io}(L)=R$?",
although it is not true in general that $\sigma_{io}(L)$ is regular as soon as $\sigma(x)$ is regular
for all $x\in X$. As a special case, for $L$ context-free and $R$ regular "$\exists\sigma:\sigma_{io}(L)\subseteq
R$?" is decidable, but "$\exists\sigma:\sigma_{io}(L)=R$?" is not. In this sense the decidability
of "$\exists\sigma:\sigma_{io}(L)=R$?" for regular $L$ and $R$ can be viewed as optimal. 