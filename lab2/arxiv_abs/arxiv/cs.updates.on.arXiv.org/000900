We introduce a general approach for solving partition problems where the goal is to represent a given
set as a union (either disjoint or not) of subsets satisfying certain properties. Many NP-hard problems
can be naturally stated as such partition problems. We show that if one can find a large enough system
of so-called families with infants for a given problem, then this problem can be solved faster than
by a straightforward algorithm. We use this approach to improve known bounds for several NP-hard
problems as well as to simplify the proofs of several known results. For the chromatic number problem
we present an algorithm with $O^*((2-\varepsilon(d))^n)$ time and exponential space for graphs
of average degree $d$. This improves the algorithm by Bj\"{o}rklund et al. [Theory Comput. Syst.
2010] that works for graphs of bounded maximum (as opposed to average) degree and closes an open problem
stated by Cygan and Pilipczuk [ICALP 2013]. For the traveling salesman problem we give an algorithm
working in $O^*((2-\varepsilon(d))^n)$ time and polynomial space for graphs of average degree
$d$. The previously known results of this kind is a polyspace algorithm by Bj\"{o}rklund et al. [ICALP
2008] for graphs of bounded maximum degree and an exponential space algorithm for bounded average
degree by Cygan and Pilipczuk [ICALP 2013]. For counting perfect matching in graphs of average degree~$d$
we present an algorithm with running time $O^*((2-\varepsilon(d))^{n/2})$ and polynomial space.
Recent algorithms of this kind due to Cygan, Pilipczuk [ICALP 2013] and Izumi, Wadayama [FOCS 2012]
(for bipartite graphs only) use exponential space. 