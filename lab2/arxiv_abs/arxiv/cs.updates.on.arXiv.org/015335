Pistachio is a nutritious nut that has many uses in the food industry. Iran is one of its largest producers,
and pistachio is considered as a strategic export product for this country. Pistachios are sorted
based on the shape of their shell into two categories: Open-mouth and Closed-mouth. The open-mouth
pistachios are higher in price, value, and demand than the closed-mouth pistachios. In the countries
that are famous in pistachio production and exporting, there are companies that pack the picked
pistachios from the trees and make them ready for exporting. As there are differences between the
price and the demand of the open-mouth and closed-mouth pistachios, it is considerable for these
companies to know precisely how much of these two kinds of pistachios exist in each packed package.
In this paper, we have introduced and shared a new dataset of pistachios, which is called Pesteh-Set.
Pesteh-Set includes 6 videos with a total length of 164 seconds and 561 moving pistachios. It also
contains 423 labeled images that totally include 3927 labeled pistachios. At the first stage, we
have used RetinaNet, the deep fully convolutional object detector for detecting the pistachios
in the video frames. In the second stage, we introduce our method for counting the open-mouth and
closed-mouth pistachios in the videos. Pistachios that move and roll on the transportation line
may appear as closed-mouth in some frames and as open-mouth in other frames. With this circumstance,
the main challenge of our work is to count these two kinds of pistachios correctly and fast. Our introduced
method performs very fast with no need for GPU, and it also achieves good counting results. The computed
accuracy of our counting method is 94.75%. Our proposed methods can be remotely performed by using
the videos taken from the implemented cameras that could monitor the pistachios. 