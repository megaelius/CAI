In cases in which an original image is blind, a decoding method where both the image and the messages
can be estimated simultaneously is desirable. We propose a spread spectrum watermarking model
with image restoration based on Bayes estimation. We therefore need to assume some prior probabilities.
The probability for estimating the messages is given by the uniform distribution, and the ones for
the image are given by the infinite range model and 2D Ising model. Any attacks from unauthorized
users can be represented by channel models. We can obtain the estimated messages and image by maximizing
the posterior probability. We analyzed the performance of the proposed method by the replica method
in the case of the infinite range model. We first calculated the theoretical values of the bit error
rate from obtained saddle point equations and then verified them by computer simulations. For this
purpose, we assumed that the image is binary and is generated from a given prior probability. We also
assume that attacks can be represented by the Gaussian channel. The computer simulation retults
agreed with the theoretical values. In the case of prior probability given by the 2D Ising model,
in which each pixel is statically connected with four-neighbors, we evaluated the decoding performance
by computer simulations, since the replica theory could not be applied. Results using the 2D Ising
model showed that the proposed method with image restoration is as effective as the infinite range
model for decoding messages. We compared the performances in a case in which the image was blind and
one in which it was informed. The difference between these cases was small as long as the embedding
and attack rates were small. This demonstrates that the proposed method with simultaneous estimation
is effective as a watermarking decoder. 