The need for resiliency of electricity supply is increasing due to increasing frequency of natural
disasters---such as hurricanes---that disrupt supply from the power grid. Rooftop solar photovoltaic
(PV) panels together with batteries can provide resiliency in many scenarios. Without intelligent
and automated decision making that can trade off conflicting requirements, a large PV system and
a large battery is needed to provide meaningful resiliency. By using forecast of solar generation
and household demand, an intelligent decision maker can operate the equipment (battery and critical
loads) to ensure that the critical loads are serviced to the maximum duration possible. With the
aid of such an intelligent control system, a smaller (and thus lower cost) system can service the
primary loads for the same duration that a much larger system will be needed to service otherwise.
In this paper we propose such an intelligent control system. A model predictive control (MPC) architecture
is used that uses available measurements and forecasts to make optimal decisions for batteries
and critical loads in real time. The optimization problem is formulated as a MILP (mixed integer
linear program) due to the on/off decisions for the loads. Performance is compared with a non-intelligent
baseline controller, for a PV-battery system chosen carefully for a single family house in Florida.
Simulations are conducted for a one week period during hurricane Irma in 2017. Simulations show
that the cost of the PV+battery system to provide a certain resiliency performance, duration the
primary load can be serviced successfully, can be halved by the proposed control system. 