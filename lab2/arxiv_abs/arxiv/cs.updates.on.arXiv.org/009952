In this paper, we develop a space-time upscaling framework that can be used for many challenging
porous media applications without scale separation and high contrast. Our main focus is on nonlinear
differential equations with multiscale coefficients. The framework is built on nonlinear nonlocal
multi-continuum upscaling concept and significantly extends the results in the proceeding paper.
Our approach starts with a coarse space-time partition and identifies test functions for each partition,
which plays a role of multi-continua. The test functions are defined via optimization and play a
crucial role in nonlinear upscaling. In the second stage, we solve nonlinear local problems in oversampled
regions with some constraints defined via test functions. These local solutions define a nonlinear
map from macroscopic variables determined with the help of test functions to the fine-grid fields.
This map can be thought as a downscaled map from macroscopic variables to the fine-grid solution.
In the final stage, we seek macroscopic variables in the entire domain such that the downscaled field
solves the global problem in a weak sense defined using the test functions. We present an analysis
of our approach for an example nonlinear problem. Our unified framework plays an important role
in designing various upscaled methods. Because local problems are directly related to the fine-grid
problems, it simplifies the process of finding local solutions with appropriate constraints.
Using machine learning (ML), we identify the complex map from macroscopic variables to fine-grid
solution. We present numerical results for several porous media applications, including two-phase
flow and transport. 