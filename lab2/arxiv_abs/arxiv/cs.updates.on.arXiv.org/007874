In this paper, we develop a more general framework of block-structured Markov processes in the queueing
study of blockchain systems, which can provide analysis both for the stationary performance measures
and for the sojourn times of any transaction and block. Note that an original aim of this paper is to
generalize the two-stage batch-service queueing model studied in Li et al. \cite{Li:2018} both
``from exponential to phase-type" service times and ``from Poisson to MAP" transaction arrivals.
In general, the MAP transaction arrivals and the two stages of PH service times make our blockchain
queue more suitable to various practical conditions of blockchain systems with crucial random
factors, for example, the mining processes, the block-generations, the blockchain-building
and so forth. For such a more general blockchain queueing model, we focus on two basic research aspects:
(1) By using the matrix-geometric solution, we first obtain a sufficient stable condition of the
blockchain system. Then we provide simple expressions for the average number of transactions in
the queueing waiting room, and the average number of transactions in the block. (2) However, comparing
with Li et al. \cite{Li:2018}, analysis of the transaction-confirmation time becomes very difficult
and challenging due to the complicated blockchain structure. To overcome the difficulties, we
develop a computational technique of the first passage times by means of both the PH distributions
of infinite sizes and the $RG$-factorizations. Finally, we hope that the methodology and results
given in this paper will open a new avenue to queueing analysis of more general blockchain systems
in practice, and can motivate a series of promising future research on development of lockchain
technologies. 