Two of the most studied extensions of trace and testing equivalences to nondeterministic and probabilistic
processes induce distinctions that have been questioned and lack properties that are desirable.
Probabilistic trace-distribution equivalence differentiates systems that can perform the same
set of traces with the same probabilities, and is not a congruence for parallel composition. Probabilistic
testing equivalence, which relies only on extremal success probabilities, is backward compatible
with testing equivalences for restricted classes of processes, such as fully nondeterministic
processes or generative/reactive probabilistic processes, only if specific sets of tests are
admitted. In this paper, new versions of probabilistic trace and testing equivalences are presented
for the general class of nondeterministic and probabilistic processes. The new trace equivalence
is coarser because it compares execution probabilities of single traces instead of entire trace
distributions, and turns out to be compositional. The new testing equivalence requires matching
all resolutions of nondeterminism on the basis of their success probabilities, rather than comparing
only extremal success probabilities, and considers success probabilities in a trace-by-trace
fashion, rather than cumulatively on entire resolutions. It is fully backward compatible with
testing equivalences for restricted classes of processes; as a consequence, the trace-by-trace
approach uniformly captures the standard probabilistic testing equivalences for generative
and reactive probabilistic processes. The paper discusses in full details the new equivalences
and provides a simple spectrum that relates them with existing ones in the setting of nondeterministic
and probabilistic processes. 