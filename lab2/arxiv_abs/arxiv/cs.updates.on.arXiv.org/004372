The emerging Internet of Things (IoT) is facing significant scalability and security challenges.
On the one hand, IoT devices are "weak" and need external assistance. Edge computing provides a promising
direction addressing the deficiency of centralized cloud computing in scaling massive number
of devices. On the other hand, IoT devices are also relatively "vulnerable" facing malicious hackers
due to resource constraints. The emerging blockchain and smart contracts technologies bring a
series of new security features for IoT and edge computing. In this paper, to address the challenges,
we design and prototype an edge-IoT framework named "EdgeChain" based on blockchain and smart contracts.
The core idea is to integrate a permissioned blockchain and the internal currency or "coin" system
to link the edge cloud resource pool with each IoT device' account and resource usage, and hence behavior
of the IoT devices. EdgeChain uses a credit-based resource management system to control how much
resource IoT devices can obtain from edge servers, based on pre-defined rules on priority, application
types and past behaviors. Smart contracts are used to enforce the rules and policies to regulate
the IoT device behavior in a non-deniable and automated manner. All the IoT activities and transactions
are recorded into blockchain for secure data logging and auditing. We implement an EdgeChain prototype
and conduct extensive experiments to evaluate the ideas. The results show that while gaining the
security benefits of blockchain and smart contracts, the cost of integrating them into EdgeChain
is within a reasonable and acceptable range. 