We analyze a wireless line network employing wireless network coding, i.e., the reverse carpooling
setting. The two end nodes exchange their packets through relays. While a packet at a relay might
not find its coding pair upon arrival, a transmission cost can be reduced by waiting for coding with
a packet from the other side. To strike a balance between the reduced transmission cost and the cost
incurred by the packet delay, a scheduling algorithm for determining either to transmit an uncoded
packet or to wait for coding is needed. Because of highly uncertain traffic injections, a scheduling
algorithm with no assumption of the traffic is not only critical but also practical. In this paper,
we propose a randomized online scheduling algorithm for a relay in arbitrary traffic, which can
be non-stationary or even adversarial. The expected total cost (including a transmission cost
and a delay cost) incurred by the proposed algorithms is (asymptotically) at most e/(e-1) ~ 1.58
times the minimum total cost achieved by an optimal offline scheduling algorithm. In particular,
the proposed algorithm is universal in the sense that that ratio is independent of the traffic. With
the universality, the proposed algorithm can be implemented at each relay distributedly in a multi-relay
network; meanwhile, it can ensure the same ratio for each relay. The proposed algorithm is also validated
in stationary stochastic traffic via computer simulations. Moreover, we link our delay-aware
coding problem with the classic ski-rental problem. The proposed algorithm turns out to generalize
the classic ski-rental online algorithm from several perspectives. 