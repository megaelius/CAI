Blockchain has received great attention in recent years and motivated innovations in different
scenarios. However, many vital issues which affect its performance are still open. For example,
it is widely convinced that high level of security and scalability and full decentralization are
still impossible to achieve simultaneously. In this paper, we propose Bicomp, a bilayer scalable
Nakamoto consensus protocol, which is an approach based on high security and pure decentralized
Nakamoto consensus, and with a significant improvement on scalability. In Bicomp, two kinds of
blocks are generated, i.e., microblocks for concurrent transaction packaging in network, and
macroblocks for leadership competition and chain formation. A leader is elected at beginning of
each round by using a macroblock header from proof-of-work. An elected leader then receives and
packages multiple microblocks mined by different nodes into one macroblock during its tenure,
which results in a bilayer block structure. Such design limits a leader's power and encourages as
many nodes as possible to participate in the process of packaging transactions, which promotes
the sharding nature of the system. Furthermore, several mechanisms are carefully designed to reduce
transaction overlapping and further limit a leader's power, among which a novel transaction diversity
based metric is proposed as the second level criteria besides the longest-chain-first principle
on selecting a legitimate chain when fork happens. Security issues and potential attacks to Bicomp
are extensively discussed and experiments for evaluation are performed. From the experimental
results based on 50 nodes all over the world, Bicomp achieves significant improvement on scalability
than that of Bitcoin and Ethereum, while the security and decentralization merits are still preserved.
