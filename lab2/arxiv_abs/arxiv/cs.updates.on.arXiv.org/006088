In this paper, efficient resource allocation for the uplink transmission of wireless powered IoT
networks is investigated. We adopt LoRa technology as an example in the IoT network, but this work
is still suitable for other communication technologies. Allocating limited resources, like spectrum
and energy resources, among a massive number of users faces critical challenges. We consider grouping
wireless powered IoT users into available channels first and then investigate power allocation
for users grouped in the same channel to improve the network throughput. Specifically, the user
grouping problem is formulated as a many to one matching game. It is achieved by considering IoT users
and channels as selfish players which belong to two disjoint sets. Both selfish players focus on
maximizing their own utilities. Then we propose an efficient channel allocation algorithm (ECAA)
with low complexity for user grouping. Additionally, a Markov Decision Process (MDP) is used to
model unpredictable energy arrival and channel conditions uncertainty at each user, and a power
allocation algorithm is proposed to maximize the accumulative network throughput over a finite-horizon
of time slots. By doing so, we can distribute the channel access and dynamic power allocation local
to IoT users. Numerical results demonstrate that our proposed ECAA algorithm achieves near-optimal
performance and is superior to random channel assignment, but has much lower computational complexity.
Moreover, simulations show that the distributed power allocation policy for each user is obtained
with better performance than a centralized offline scheme. 