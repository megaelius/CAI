The Internet of Things (IoT) has revolutionized everyday life and expanded the scope of smart services
to a broad range of domains. In ubiquitous environments, fog computing has emerged leveraging the
resources in the edge-to-cloud continuum to improve the quality of service, while reducing the
traffic on cloud infrastructure and networks. In such a distributed ecosystem with heterogeneous
resources of various sizes and inherent dynamics such as varying service demand over time, managing
resources and services is a major challenge. This paper studies two optimization objectives and
formulates a decentralized load-balancing problem for IoT service placement: (global) IoT workload
balance and (local) quality of service, in terms of minimizing the cost of deadline violation, service
deployment, and unhosted services. The proposed solution, EPOS Fog, introduces a decentralized
multi-agent system for collective learning that utilizes edge-to-cloud nodes to jointly balance
the input workload across the network and minimize the costs involved in service execution. The
agents locally generate possible assignments of requests to resources and then cooperatively
select an assignment such that their combination maximizes edge utilization while minimizes service
execution cost. Extensive experimental evaluation with realistic Google cluster workloads on
various networks demonstrates the superior performance of EPOS Fog in terms of workload balance
and quality of service, compared to approaches such as First Fit and exclusively Cloud-based. The
findings demonstrate how distributed computational resources on the edge can be utilized more
cost-effectively by harvesting collective intelligence. 