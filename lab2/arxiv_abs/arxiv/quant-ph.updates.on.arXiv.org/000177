Measurement-device-independent quantum key distribution (MDIQKD) protocol has been demonstrated
as a viable solution to detector side-channel attacks. One of the main advantages of MDIQKD is that
the security can be proved without making any assumptions about how the measurement device works.
Recently a new QKD protocol, aiming at bridging the strong security of MDIQKD with the high efficiency
of conventional QKD, was proposed by two groups simultaneously (P. Gonzalez, et al., arXiv:1410.1422
; Charles Ci Wen Lim, et al., arXiv:1410.1850 ). In this protocol, the legitimate receiver (Bob)
employs a trusted linear optics network to encode his information. He further performs a Bell state
measurement (BSM) using untrusted detectors. One crucial assumption made in the security analysis
is the untrusted BSM located inside Bob's laboratory cannot send any unwanted information to the
outside. Here, we show that if the BSM is completely untrusted and the expected detection efficiency
of a practical single photon detector (SPD) is low, a simple scheme would allow the BSM to send information
to the outside: a sophisticated eavesdropper (Eve) can place high-efficiency SPDs inside the BSM
and program it to selectively report a fraction of the detection events to simulate low-efficiency
SPDs. The time delay between adjacent reported events can be used by the untrusted BSM to send information.
Combined with Trojan horse attacks, this scheme could allow Eve to gain information of the secure
key without introducing any errors. To prevent the above attack, either countermeasures to Trojan
horse attacks or some trustworthiness to the "untrusted" BSM device may be required. 