In practical decoy-state quantum key distribution, the raw key length is finite. Thus, deviation
of the estimated single photon yield and single photon error rate from their respective true values
due to finite sample size can seriously lower the provably secure key rate $R$. Current method to
obtain a lower bound of $R$ follows an indirect path by first bounding the yields and error rates both
conditioned on the type of decoy used. These bounds are then used to deduce the single photon yield
and error rate, which in turn are used to calculate a lower bound of the key rate $R$. Here we report
an improved version of McDiarmid inequality in statistics and show how use it to directly compute
a lower bound of $R$ via the so-called centering sequence. A novelty in this work is the optimization
of the bound through the freedom of choosing possible centering sequences. The provably secure
key rate of realistic 100~km long quantum channel obtained by our method is at least twice that of
the state-of-the-art procedure when the raw key length $\ell_\text{raw}$ is $\approx 10^5$ to
$10^6$. In fact, our method can improve the key rate significantly over a wide range of raw key length
from about $10^5$ to $10^{11}$. More importantly, it is achieved by pure theoretical analysis without
altering the experimental setup or the post-processing method. In a boarder context, this work
introduces powerful concentration inequality techniques in statistics to tackle physics problem
beyond straightforward statistical data analysis especially when the data are correlated so that
tools like the central limit theorem are not applicable. 